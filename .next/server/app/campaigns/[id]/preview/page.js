(()=>{var e={};e.id=507,e.ids=[507],e.modules={443:(e,t,s)=>{"use strict";s.d(t,{MX:()=>n,fX:()=>r,m$:()=>o,zP:()=>a});let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10022:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11273:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(43210),i=s(60687);function n(e,t=[]){let s=[],a=()=>{let t=s.map(e=>r.createContext(e));return function(s){let i=s?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...s,[e]:i}}),[s,i])}};return a.scopeName=e,[function(t,n){let a=r.createContext(n),o=s.length;s=[...s,n];let l=t=>{let{scope:s,children:n,...l}=t,c=s?.[e]?.[o]||a,u=r.useMemo(()=>l,Object.values(l));return(0,i.jsx)(c.Provider,{value:u,children:n})};return l.displayName=t+"Provider",[l,function(s,i){let l=i?.[e]?.[o]||a,c=r.useContext(l);if(c)return c;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=s.reduce((t,{useScope:s,scopeName:r})=>{let i=s(e)[`__scope${r}`];return{...t,...i}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}(a,...t)]}},11997:e=>{"use strict";e.exports=require("punycode")},13964:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14163:(e,t,s)=>{"use strict";s.d(t,{hO:()=>l,sG:()=>o});var r=s(43210),i=s(51215),n=s(8730),a=s(60687),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,n.TL)(`Primitive.${t}`),i=r.forwardRef((e,r)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?s:t,{...n,ref:r})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function l(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}},14952:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},16189:(e,t,s)=>{"use strict";var r=s(65773);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},18853:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});var r=s(43210),i=s(66156);function n(e){let[t,s]=r.useState(void 0);return(0,i.N)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;s({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24624:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},n=s(443);let a=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u},d)=>(0,r.createElement)("svg",{ref:d,...i,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:(0,n.zP)("lucide",o),...!l&&!(0,n.m$)(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]]))},27910:e=>{"use strict";e.exports=require("stream")},28947:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35071:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},41552:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(43210),i=s(443),n=s(24624);let a=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...a},o)=>(0,r.createElement)(n.A,{ref:o,iconNode:t,className:(0,i.zP)(`lucide-${(0,i.fX)((0,i.MX)(e))}`,`lucide-${e}`,s),...a}));return s.displayName=(0,i.MX)(e),s}},41862:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47629:(e,t,s)=>{Promise.resolve().then(s.bind(s,50268))},48262:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var r=s(60687),i=s(76180),n=s.n(i),a=s(43210),o=s(16189),l=s(28254),c=s(96241),u=s(24934),d=s(59821),m=s(28947),p=s(58887),h=s(78200),x=s(10022),g=s(41862),f=s(45583),y=s(45989),v=s(84027),b=s(47033),j=s(13861),w=s(14952),N=s(93613),S=s(97840),A=s(70605);let _=async(e,t)=>{let s=2e3*Math.random()+1e3;await new Promise(e=>setTimeout(e,s));let r=k(t);return{recommendation:r,score:Math.floor(40*Math.random())+60,insights:C(t),processingTime:Math.round(s),prompt:e,interpolatedPrompt:P(e,t)}},k=e=>{let t=e.name||"User",s=e.goal||"growth",r={growth:`${t}, based on your focus on business growth, I recommend implementing a customer acquisition strategy that leverages digital marketing channels. Focus on building strong brand awareness and customer loyalty programs.`,efficiency:`${t}, since you're prioritizing efficiency, consider automating your core business processes and implementing lean methodologies. This will help reduce operational overhead while maintaining quality.`,innovation:`${t}, with your interest in innovation, I suggest investing in emerging technologies that align with your industry. Consider establishing partnerships with tech companies and fostering a culture of continuous learning.`};return r[s]||r.growth},C=e=>{let t=[];return e.name&&t.push("User engagement level: High (provided personal information)"),e.email&&t.push(`Email domain analysis: ${e.email.includes("@gmail.com")?"Personal":"Professional"} email`),e.goal&&t.push(`Primary focus area: ${e.goal} - this indicates a ${"growth"===e.goal?"scaling":"efficiency"===e.goal?"optimization":"transformation"} mindset`),t},P=(e,t)=>{let s=e;return Object.entries(t).forEach(([e,t])=>{s=s.replace(RegExp(`@${e}`,"g"),String(t))}),s},R=(e,t,s,r)=>!!t.bypassDisplayRules||!!e.isVisible&&(e.settings,!("logic"===e.type&&!s.name&&!s.email||e.type.startsWith("output-")&&0===Object.keys(s).length));function I({section:e,sectionIndex:t,isActive:s,userInputs:i,aiOutputs:n,previewConfig:o,onSectionComplete:l,onUpdate:b}){let[j,w]=(0,a.useState)(!1),[N,S]=(0,a.useState)(null),k=(e=>{switch(e){case"capture":default:return m.A;case"choice":return p.A;case"logic":return h.A;case"output-results":case"output-download":case"output-redirect":return x.A}})(e.type),C=(e=>{switch(e){case"capture":return"Capture";case"choice":return"Choice";case"logic":return"AI Logic";case"output-results":return"Results";case"output-download":return"Download";case"output-redirect":return"Redirect";default:return"Section"}})(e.type),P=async()=>{if("logic"===e.type){w(!0);try{let s=e.settings.prompt||"Analyze the user inputs and provide recommendations.",r=await _(s,i);S(r),l(t,{aiProcessing:!0,...r})}catch(e){console.error("AI Processing error:",e)}finally{w(!1)}}};return(0,r.jsxs)("div",{className:(0,c.cn)("min-h-screen transition-all duration-300",s?"opacity-100":"opacity-50 pointer-events-none"),children:[(0,r.jsx)("div",{className:"bg-white border-b py-4 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(k,{className:"h-5 w-5 text-blue-600"}),(0,r.jsx)(d.E,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:C}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Section ",t+1]}),o.enableAITesting&&(0,r.jsxs)(d.E,{variant:"secondary",className:"bg-purple-100 text-purple-700",children:[(0,r.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"Testing"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.E,{variant:s?"default":"secondary",className:"text-xs",children:s?"Active":"Preview"}),o.showDebugInfo&&(0,r.jsxs)(d.E,{variant:"outline",className:"text-xs",children:[(0,r.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Debug"]})]})]})}),(0,r.jsx)("div",{className:"py-8 px-6 bg-gray-50 min-h-[calc(100vh-80px)]",children:(()=>{let s=e.settings||{};switch(e.type){case"capture":return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title||"Capture Section"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:s.content||"This is a capture section for collecting user information."}),(0,r.jsx)("div",{className:"space-y-4",children:(s.fields||[{id:"name",type:"text",label:"Full Name",required:!0},{id:"email",type:"email",label:"Email Address",required:!0}]).map((e,s)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.label,e.required&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsx)("input",{type:e.type||"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter your ${e.label.toLowerCase()}`,defaultValue:i[e.id]||"",onChange:s=>{o.enableAITesting&&l(t,{...i,[e.id]:s.target.value})}})]},e.id||s))}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(u.$,{onClick:()=>{let e=new FormData(document.querySelector("form")),s={};e.forEach((e,t)=>{s[t]=e}),l(t,s)},className:"bg-blue-600 hover:bg-blue-700",children:"Continue"})}),o.showDebugInfo&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded border-l-4 border-blue-500",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Debug: Capture Section"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Collected: ",Object.keys(i).join(", ")||"None"]})]})]});case"choice":return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title||"Make Your Choice"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:s.content||"Please select from the following options."}),(0,r.jsx)("div",{className:"space-y-3",children:(s.choices||[{id:"growth",text:"Business Growth",value:"growth"},{id:"efficiency",text:"Efficiency Improvement",value:"efficiency"},{id:"innovation",text:"Innovation & Technology",value:"innovation"}]).map((e,s)=>(0,r.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>l(t,{choice:e.value,[e.id]:e.value}),children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-gray-300 rounded mr-3"}),(0,r.jsx)("span",{className:"text-gray-900",children:e.text})]})},e.id||s))}),o.showDebugInfo&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded border-l-4 border-green-500",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Debug: Choice Section"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Available choices: ",(s.choices||[]).length]})]})]});case"logic":return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 text-center",children:[(0,r.jsx)(h.A,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:s.title||"AI Processing"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:s.content||"Our AI is analyzing your responses..."}),j?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 animate-spin text-blue-600"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Processing..."})]}):N?(0,r.jsx)("div",{className:"space-y-4 mb-6",children:(0,r.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg text-left",children:[(0,r.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"✅ Processing Complete"}),(0,r.jsx)("p",{className:"text-sm text-green-700",children:N.recommendation}),(0,r.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-green-600",children:[(0,r.jsxs)("span",{children:["Score: ",N.score,"/100"]}),(0,r.jsxs)("span",{children:["Time: ",N.processingTime,"ms"]})]})]})}):(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)(u.$,{onClick:P,className:"bg-blue-600 hover:bg-blue-700",disabled:0===Object.keys(i).length,children:[(0,r.jsx)(f.A,{className:"h-4 w-4 mr-2"}),o.enableAITesting?"Test AI Processing":"Start Processing"]}),0===Object.keys(i).length&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Complete previous sections to enable AI processing"})]}),o.showDebugInfo&&(0,r.jsxs)("div",{className:"p-3 bg-gray-50 rounded border-l-4 border-purple-500 text-left",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Debug: AI Logic Section"}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[(0,r.jsxs)("p",{children:["Prompt: ",s.prompt||"No prompt defined"]}),(0,r.jsxs)("p",{children:["Available inputs: ",Object.keys(i).join(", ")||"None"]}),N&&(0,r.jsxs)("details",{className:"mt-2",children:[(0,r.jsx)("summary",{className:"cursor-pointer font-medium",children:"Processing Results"}),(0,r.jsx)("pre",{className:"mt-1 text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify(N,null,2)})]})]})]})]});case"output-results":case"output-download":case"output-redirect":return(0,r.jsxs)("div",{children:[(0,r.jsx)(A.x,{section:e,isPreview:!0,onUpdate:b,className:"max-w-4xl mx-auto"}),o.showDebugInfo&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded border-l-4 border-orange-500",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Debug: Output Section"}),(0,r.jsxs)("div",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[(0,r.jsxs)("p",{children:["Type: ",e.type]}),(0,r.jsxs)("p",{children:["Available variables: ",Object.keys({...i,...n}).join(", ")||"None"]}),(0,r.jsxs)("details",{className:"mt-2",children:[(0,r.jsx)("summary",{className:"cursor-pointer font-medium",children:"Variable Context"}),(0,r.jsx)("pre",{className:"mt-1 text-xs bg-gray-100 p-2 rounded overflow-auto",children:JSON.stringify({...i,...n},null,2)})]})]})]})]});default:return(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(k,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:[C," Section"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"This section type is not yet implemented in preview mode."}),o.showDebugInfo&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded border-l-4 border-gray-500 text-left max-w-md mx-auto",children:[(0,r.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"Debug: Unknown Section Type"}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:["Type: ",e.type]})]})]})}})()})]})}function z({currentSection:e,totalSections:t,onPrevious:s,onNext:i,sections:n,completedSections:a,previewConfig:o,onConfigChange:l}){return(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(u.$,{variant:"outline",size:"sm",onClick:s,disabled:e<=0,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>l({enableAITesting:!o.enableAITesting}),className:(0,c.cn)("text-xs px-2 py-1 rounded border transition-colors",o.enableAITesting?"bg-purple-100 text-purple-700 border-purple-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"),children:[(0,r.jsx)(y.A,{className:"h-3 w-3 mr-1 inline"}),"AI Testing"]}),(0,r.jsxs)("button",{onClick:()=>l({showDebugInfo:!o.showDebugInfo}),className:(0,c.cn)("text-xs px-2 py-1 rounded border transition-colors",o.showDebugInfo?"bg-gray-800 text-white border-gray-700":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"),children:[(0,r.jsx)(v.A,{className:"h-3 w-3 mr-1 inline"}),"Debug"]}),(0,r.jsxs)("button",{onClick:()=>l({bypassDisplayRules:!o.bypassDisplayRules}),className:(0,c.cn)("text-xs px-2 py-1 rounded border transition-colors",o.bypassDisplayRules?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"),children:[(0,r.jsx)(j.A,{className:"h-3 w-3 mr-1 inline"}),"All Sections"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[e+1," of ",t]}),(0,r.jsx)("div",{className:"flex space-x-1",children:n.map((t,s)=>(0,r.jsx)("div",{className:(0,c.cn)("w-2 h-2 rounded-full transition-colors",s===e?"bg-blue-600":a.has(s)?"bg-green-500":"bg-gray-300")},s))})]})]}),(0,r.jsxs)(u.$,{variant:"outline",size:"sm",onClick:i,disabled:e>=t-1,children:["Next",(0,r.jsx)(w.A,{className:"h-4 w-4 ml-1"})]})]})})})}function D({}){let e=(0,o.useParams)(),t=(0,o.useSearchParams)(),s=e?.id,i=parseInt(t?.get("section")||"0"),c=t?.get("mode")||"sequence";t?.get("device");let p=t?.get("bypass")==="true",[h,x]=(0,a.useState)(null),[f,b]=(0,a.useState)([]),[j,w]=(0,a.useState)(!0),[A,_]=(0,a.useState)(null),[k,C]=(0,a.useState)({currentSection:i,userInputs:{},aiOutputs:{},completedSections:new Set,testMode:"testing"===c,aiProcessingResults:{}}),[P,D]=(0,a.useState)({mode:c,bypassDisplayRules:p,enableAITesting:"testing"===c,simulateRealTiming:!1,showDebugInfo:!1}),T=async()=>{try{w(!0),_(null);let e=await (0,l.jz)(s);if(!e.success)throw Error(e.error||"Failed to load campaign");if(!e.data)throw Error("Campaign not found");x(e.data);let t=new Date().toISOString(),r=[{id:"1",type:"capture",title:"Welcome Survey",order:0,isVisible:!0,createdAt:t,updatedAt:t,settings:{title:"Welcome to Our Survey",content:"Please provide your information to get started.",fields:[{id:"name",type:"text",label:"Full Name",required:!0},{id:"email",type:"email",label:"Email Address",required:!0}]}},{id:"2",type:"choice",title:"Primary Goal Selection",order:1,isVisible:!0,createdAt:t,updatedAt:t,settings:{title:"What's your primary goal?",content:"Select the option that best describes your main objective.",choices:[{id:"growth",text:"Business Growth",value:"growth"},{id:"efficiency",text:"Efficiency Improvement",value:"efficiency"},{id:"innovation",text:"Innovation & Technology",value:"innovation"}],allowMultiple:!1}},{id:"3",type:"logic",title:"AI Processing",order:2,isVisible:!0,createdAt:t,updatedAt:t,settings:{title:"Processing Your Responses",content:"Our AI is analyzing your responses to provide personalized recommendations.",prompt:'Based on the user\'s name "@name", email "@email", and goal "@goal", provide a personalized recommendation.',outputDefinitions:[{id:"recommendation",name:"recommendation",type:"text",description:"Personalized recommendation based on user inputs"},{id:"score",name:"score",type:"number",description:"Compatibility score from 1-100"}]}},{id:"4",type:"output-results",title:"Results Page",order:3,isVisible:!0,createdAt:t,updatedAt:t,settings:{title:"Your Personalized Results",content:"Based on your responses, here are our recommendations:\n\n@recommendation\n\nYour compatibility score is @score out of 100.",enableVariableInterpolation:!0}}],i=r.filter(e=>R(e,P,k.userInputs,k.completedSections));b(P.bypassDisplayRules?r:i)}catch(e){console.error("Error loading campaign:",e),_(e instanceof Error?e.message:"An error occurred")}finally{w(!1)}},E=(e,t)=>{C(s=>{let r={...s,userInputs:{...s.userInputs,...t},completedSections:new Set([...s.completedSections,e])};return t.aiProcessing&&(r.aiOutputs={...s.aiOutputs,...t},r.aiProcessingResults={...s.aiProcessingResults,[e]:t}),r}),"sequence"===P.mode&&e<f.length-1&&setTimeout(()=>{q()},P.simulateRealTiming?1500:1e3)},M=async e=>{console.log("Section update in preview mode:",e)},q=()=>{C(e=>({...e,currentSection:Math.min(f.length-1,e.currentSection+1)}))};return j?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(g.A,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading Preview"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Preparing your campaign preview..."})]})}):A?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(N.A,{className:"h-8 w-8 text-red-600 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Preview Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:A}),(0,r.jsx)(u.$,{onClick:T,variant:"outline",children:"Try Again"})]})}):h&&0!==f.length?(0,r.jsxs)("div",{className:"jsx-75637827508fecf6 min-h-screen bg-gray-50",children:[(0,r.jsx)(n(),{id:"75637827508fecf6",children:"@media(max-width:768px){.mobile-optimized.jsx-75637827508fecf6{font-size:14px}}"}),(0,r.jsx)("div",{className:"jsx-75637827508fecf6 bg-blue-600 text-white text-center py-2 px-4",children:(0,r.jsxs)("div",{className:"jsx-75637827508fecf6 flex items-center justify-center space-x-2",children:[(0,r.jsx)(S.A,{className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"jsx-75637827508fecf6 text-sm font-medium",children:["Preview Mode - ",h.name]}),(0,r.jsxs)("div",{className:"jsx-75637827508fecf6 flex items-center space-x-2",children:[P.bypassDisplayRules&&(0,r.jsx)(d.E,{variant:"secondary",className:"bg-blue-500 text-white text-xs",children:"All Sections"}),P.enableAITesting&&(0,r.jsxs)(d.E,{variant:"secondary",className:"bg-purple-500 text-white text-xs",children:[(0,r.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"AI Testing"]}),P.showDebugInfo&&(0,r.jsxs)(d.E,{variant:"secondary",className:"bg-gray-500 text-white text-xs",children:[(0,r.jsx)(v.A,{className:"h-3 w-3 mr-1"}),"Debug"]})]})]})}),(0,r.jsxs)("div",{className:"jsx-75637827508fecf6 pb-20",children:[" ",f.map((e,t)=>(0,r.jsx)(I,{section:e,sectionIndex:t,isActive:t===k.currentSection,userInputs:k.userInputs,aiOutputs:k.aiOutputs,previewConfig:P,onSectionComplete:E,onUpdate:M},e.id))]}),(0,r.jsx)(z,{currentSection:k.currentSection,totalSections:f.length,onPrevious:()=>{C(e=>({...e,currentSection:Math.max(0,e.currentSection-1)}))},onNext:q,sections:f,completedSections:k.completedSections,previewConfig:P,onConfigChange:e=>{D(t=>{let s={...t,...e};return"bypassDisplayRules"in e&&setTimeout(()=>T(),100),s})}})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(m.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Content"}),(0,r.jsx)("p",{className:"text-gray-600",children:"This campaign doesn't have any sections to preview."})]})})}},50268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/kevindunbar/Desktop/Design Club/Clients/Flint/Lead Magnet/flint-prod/app/campaigns/[id]/preview/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kevindunbar/Desktop/Design Club/Clients/Flint/Lead Magnet/flint-prod/app/campaigns/[id]/preview/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56397:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65551:(e,t,s)=>{"use strict";s.d(t,{i:()=>o});var r,i=s(43210),n=s(66156),a=(r||(r=s.t(i,2)))[" useInsertionEffect ".trim().toString()]||n.N;function o({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){let[n,o,l]=function({defaultProp:e,onChange:t}){let[s,r]=i.useState(e),n=i.useRef(s),o=i.useRef(t);return a(()=>{o.current=t},[t]),i.useEffect(()=>{n.current!==s&&(o.current?.(s),n.current=s)},[s,n]),[s,r,o]}({defaultProp:t,onChange:s}),c=void 0!==e,u=c?e:n;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,r])}return[u,i.useCallback(t=>{if(c){let s="function"==typeof t?t(e):t;s!==e&&l.current?.(s)}else o(t)},[c,e,o,l])]}Symbol("RADIX:SYNC_STATE")},66156:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(43210),i=globalThis?.document?r.useLayoutEffect:()=>{}},70569:(e,t,s)=>{"use strict";function r(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}s.d(t,{m:()=>r})},74075:e=>{"use strict";e.exports=require("zlib")},75913:(e,t,s)=>{"use strict";s(56397);var r=s(43210),i=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),n="undefined"!=typeof process&&process.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,o=void 0===i?n:i;l(a(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",l("boolean"==typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){l("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),l(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;l(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){return l(a(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},s.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},s.deleteRule=function(e){this._serverSheet.deleteRule(e)},s.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},s.cssRules=function(){return this._serverSheet.cssRules},s.makeStyleTag=function(e,t,s){t&&l(a(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(r,s):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function l(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},u={};function d(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return u[r]||(u[r]="jsx-"+c(e+"-"+s)),u[r]}function m(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return u[s]||(u[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),u[s]}var p=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,i=t.optimizeForSpeed,n=void 0!==i&&i;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var s=this.getIdAndRules(e),r=s.styleId,i=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var i=d(r,s);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return m(i,e)}):[m(i,t)]}}return{styleId:d(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),h=r.createContext(null);h.displayName="StyleSheetContext";i.default.useInsertionEffect||i.default.useLayoutEffect;var x=void 0;function g(e){var t=x||r.useContext(h);return t&&t.add(e),null}g.dynamic=function(e){return e.map(function(e){return d(e[0],e[1])}).join(" ")},t.style=g},76180:(e,t,s)=>{"use strict";e.exports=s(75913).style},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(43210),i=s(14163),n=s(60687),a=r.forwardRef((e,t)=>(0,n.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=a},78272:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83721:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(43210);function i(e){let t=r.useRef({value:e,previous:e});return r.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},84027:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},89629:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var r=s(65239),i=s(48088),n=s(88170),a=s.n(n),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c={children:["",{children:["campaigns",{children:["[id]",{children:["preview",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,50268)),"/Users/kevindunbar/Desktop/Design Club/Clients/Flint/Lead Magnet/flint-prod/app/campaigns/[id]/preview/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(s.bind(s,90253))).default(e)],twitter:[async e=>(await Promise.resolve().then(s.bind(s,59479))).default(e)],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/kevindunbar/Desktop/Design Club/Clients/Flint/Lead Magnet/flint-prod/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[async e=>(await Promise.resolve().then(s.bind(s,90253))).default(e)],twitter:[async e=>(await Promise.resolve().then(s.bind(s,59479))).default(e)],manifest:void 0}}]}.children,u=["/Users/kevindunbar/Desktop/Design Club/Clients/Flint/Lead Magnet/flint-prod/app/campaigns/[id]/preview/page.tsx"],d={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/campaigns/[id]/preview/page",pathname:"/campaigns/[id]/preview",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91645:e=>{"use strict";e.exports=require("net")},93613:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41552).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94735:e=>{"use strict";e.exports=require("events")},94893:(e,t,s)=>{Promise.resolve().then(s.bind(s,48262))}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[243,247,658,928,369,177,599,605],()=>s(89629));module.exports=r})();