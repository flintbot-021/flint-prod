(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{12520:(e,t,a)=>{"use strict";a.d(t,{exportMultiSheetExcel:()=>g,GF:()=>m,bJ:()=>h,rA:()=>w,gw:()=>A,K:()=>_,Dj:()=>k,U8:()=>C.U8});var s=a(60408),r=a.n(s);let l=(e,t,a)=>{let s=t.fields.filter(e=>!1!==e.include),r=s.map(e=>e.label),l=e.map(e=>s.map(a=>{let s=c(e,a.key);return null!=s?a.formatter?a.formatter(s):o(s,a.type,t.dateFormat):""})),n={totalRecords:e.length,exportedRecords:l.length,timestamp:new Date().toISOString(),source:(null==a?void 0:a.source)||"dashboard",filters:null==a?void 0:a.filters,exportedBy:null==a?void 0:a.exportedBy};return{headers:r,rows:l,metadata:n}},n=(e,t)=>{let a=[];return e&&Array.isArray(e)?0===e.length?(a.push("Data array is empty"),{isValid:!1,errors:a}):t.fields&&0!==t.fields.length?0===t.fields.filter(e=>!1!==e.include).length?(a.push("No fields selected for export"),{isValid:!1,errors:a}):{isValid:0===a.length,errors:a}:(a.push("No fields specified for export"),{isValid:!1,errors:a}):(a.push("Data must be an array"),{isValid:!1,errors:a})},o=(e,t,a)=>{if(null==e)return"";switch(t){case"date":if(e instanceof Date)return i(e,a);if("string"==typeof e){let t=new Date(e);return isNaN(t.getTime())?e:i(t,a)}return String(e);case"number":return"number"==typeof e?e.toString():String(e);case"boolean":return e?"Yes":"No";default:return String(e)}},i=(e,t)=>{if(!t)return e.toLocaleDateString()+" "+e.toLocaleTimeString();let a=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getFullYear(),l=e.getHours().toString().padStart(2,"0"),n=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");return t.replace("MM",s).replace("dd",a).replace("yyyy",r.toString()).replace("HH",l).replace("mm",n).replace("ss",o)},c=(e,t)=>{if(!e||"object"!=typeof e)return;let a=t.split("."),s=e;for(let e of a){if(null==s)return;s=s[e]}return s},d=e=>{let t=[];return e.headers&&e.headers.length>0&&t.push(e.headers),t.push(...e.rows),t},m=async(e,t,a)=>{try{var s;null==a||a({stage:"preparing",progress:10,message:"Preparing data for export...",totalRecords:e.length});let r=n(e,t);if(!r.isValid)throw Error("Export validation failed: ".concat(r.errors.join(", ")));null==a||a({stage:"formatting",progress:30,message:"Formatting data...",totalRecords:e.length});let o=l(e,t,{source:(null==(s=t.filename)?void 0:s.includes("dashboard"))?"dashboard":"leads"});null==a||a({stage:"generating",progress:60,message:"Generating CSV file...",totalRecords:e.length,processedRecords:o.rows.length});let i=u(o,t);null==a||a({stage:"downloading",progress:90,message:"Initiating download...",totalRecords:e.length,processedRecords:o.rows.length});let c=t.filename||"export.csv";return await p(i,c),null==a||a({stage:"complete",progress:100,message:"Export complete!",totalRecords:e.length,processedRecords:o.rows.length}),{success:!0,filename:c,metadata:o.metadata}}catch(e){return null==a||a({stage:"error",progress:0,message:e instanceof Error?e.message:"Export failed"}),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},u=(e,t)=>{let{headers:a,rows:s}=e,l=[...!1!==t.includeHeaders?[a]:[],...s];return r().unparse(l,{header:!1,quotes:!0,quoteChar:'"',escapeChar:'"',delimiter:",",newline:"\n",skipEmptyLines:!1})},p=(e,t)=>new Promise((a,s)=>{try{let s=new Blob(["\uFEFF"+e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download=t,l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout(()=>{URL.revokeObjectURL(r),a()},100)}catch(e){s(e)}});var x=a(3925);let h=async(e,t,a)=>{try{var s;null==a||a({stage:"preparing",progress:10,message:"Preparing data for Excel export...",totalRecords:e.length});let r=n(e,t);if(!r.isValid)throw Error("Export validation failed: ".concat(r.errors.join(", ")));null==a||a({stage:"formatting",progress:30,message:"Formatting data for Excel...",totalRecords:e.length});let o=l(e,t,{source:(null==(s=t.filename)?void 0:s.includes("dashboard"))?"dashboard":"leads"});null==a||a({stage:"generating",progress:60,message:"Generating Excel file...",totalRecords:e.length,processedRecords:o.rows.length});let i=f(o,t);null==a||a({stage:"downloading",progress:90,message:"Initiating download...",totalRecords:e.length,processedRecords:o.rows.length});let c=t.filename||"export.xlsx";return await j(i,c),null==a||a({stage:"complete",progress:100,message:"Excel export complete!",totalRecords:e.length,processedRecords:o.rows.length}),{success:!0,filename:c,metadata:o.metadata}}catch(e){return null==a||a({stage:"error",progress:0,message:e instanceof Error?e.message:"Excel export failed"}),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},g=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"multi-sheet-export.xlsx",a=arguments.length>2?arguments[2]:void 0;try{let s=e.reduce((e,t)=>e+t.data.length,0);null==a||a({stage:"preparing",progress:5,message:"Preparing multi-sheet Excel export...",totalRecords:s});let r=x.Wp.book_new(),o=0;for(let t=0;t<e.length;t++){let i=e[t];null==a||a({stage:"generating",progress:Math.round(10+70*t/e.length),message:"Processing sheet: ".concat(i.name,"..."),totalRecords:s,processedRecords:o});let c=n(i.data,i.config);if(!c.isValid)throw Error('Sheet "'.concat(i.name,'" validation failed: ').concat(c.errors.join(", ")));let d=l(i.data,i.config),m=y(d,i.config);x.Wp.book_append_sheet(r,m,i.name),o+=i.data.length}return null==a||a({stage:"downloading",progress:90,message:"Generating Excel file...",totalRecords:s,processedRecords:o}),await j(r,t),null==a||a({stage:"complete",progress:100,message:"Multi-sheet Excel export complete!",totalRecords:s,processedRecords:o}),{success:!0,filename:t,metadata:{totalRecords:s,exportedRecords:o,timestamp:new Date().toISOString(),source:"dashboard"}}}catch(e){return null==a||a({stage:"error",progress:0,message:e instanceof Error?e.message:"Multi-sheet export failed"}),{success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}},f=(e,t)=>{let a=x.Wp.book_new(),s=y(e,t),r=t.sheetName||"Data";return x.Wp.book_append_sheet(a,s,r),a},y=(e,t)=>{let a=d(e),s=x.Wp.aoa_to_sheet(a);return v(s,e,t),s},v=(e,t,a)=>{let s=x.Wp.decode_range(e["!ref"]||"A1"),r=[];for(let e=s.s.c;e<=s.e.c;e++){let a=10;t.headers[e]&&(a=Math.max(a,t.headers[e].length)),t.rows.slice(0,10).forEach(t=>{t[e]&&"string"==typeof t[e]&&(a=Math.max(a,t[e].length))}),r.push({width:Math.min(a+2,50)})}if(e["!cols"]=r,!1!==a.includeHeaders&&t.headers.length>0)for(let t=s.s.c;t<=s.e.c;t++){let a=e[x.Wp.encode_cell({r:0,c:t})];a&&(a.s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"366092"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}})}if(!1!==a.includeHeaders&&(e["!freeze"]={xSplit:0,ySplit:1}),t.rows.length>0){let t=s.e.r,a=s.e.c;e["!autofilter"]={ref:"A1:".concat(x.Wp.encode_cell({r:t,c:a}))}}},j=(e,t)=>new Promise((a,s)=>{try{let s=x.M9(e,{bookType:"xlsx",type:"array",compression:!0}),r=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download=t,n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout(()=>{URL.revokeObjectURL(l),a()},100)}catch(e){s(e)}});var N=a(39419),b=a(17712);let w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;try{let a=await (0,b.ME)({page:1,per_page:100});if(!a.success||!a.data)return{success:!1,error:"Failed to load campaigns data"};let s=a.data.data||[],r=E(s,e),l=[],n=0,o=0;for(let e of r)try{let t=await (0,b.KT)(e.id);if(t.success&&t.data){let{total:a,completed:s,conversion_rate:r}=t.data;l.push({campaignId:e.id,campaignName:e.name,totalLeads:a,completedLeads:s,conversionRate:r,avgCompletionTime:0,createdAt:e.created_at,lastActivity:e.updated_at||e.created_at}),n+=a,o+=s}else l.push({campaignId:e.id,campaignName:e.name,totalLeads:0,completedLeads:0,conversionRate:0,avgCompletionTime:0,createdAt:e.created_at,lastActivity:e.updated_at||e.created_at})}catch(t){console.error("Error loading stats for campaign ".concat(e.id,":"),t)}let i=n>0?o/n*100:0,c=l.sort((e,t)=>t.totalLeads-e.totalLeads).slice(0,5),d=l.map(e=>({campaignName:e.campaignName,totalLeads:e.totalLeads,completedLeads:e.completedLeads,conversionRate:e.conversionRate,avgCompletionTime:e.avgCompletionTime,createdAt:e.createdAt,lastActivity:e.lastActivity})),m={analytics:{totalLeads:n,totalCampaigns:r.length,conversionRate:i,avgCompletionTime:0,topCampaigns:c.map(e=>({name:e.campaignName,leads:e.totalLeads,conversion:e.conversionRate}))},filters:{timeFilter:e,dateRange:S(e)},userInfo:t?{monthlyUsage:t.monthly_campaigns_used,monthlyLimit:t.monthly_campaign_limit,usagePercentage:Math.round(t.monthly_campaigns_used/t.monthly_campaign_limit*100)}:null,exportedAt:new Date().toISOString(),source:"dashboard"};return{success:!0,data:d,metadata:m}}catch(e){return console.error("Error preparing dashboard export data:",e),{success:!1,error:e instanceof Error?e.message:"Failed to prepare export data"}}},E=(e,t)=>{if("all"===t)return e;let a=new Date,s=new Date;switch(t){case"today":s.setHours(0,0,0,0);break;case"week":s.setDate(a.getDate()-7);break;case"month":s.setMonth(a.getMonth()-1)}return e.filter(e=>new Date(e.created_at)>=s)},S=e=>{let t=new Date,a=new Date;switch(e){case"today":return a.setHours(0,0,0,0),{start:a.toISOString(),end:t.toISOString(),description:"Today"};case"week":return a.setDate(t.getDate()-7),{start:a.toISOString(),end:t.toISOString(),description:"Last 7 days"};case"month":return a.setMonth(t.getMonth()-1),{start:a.toISOString(),end:t.toISOString(),description:"Last 30 days"};default:return{start:"2020-01-01T00:00:00.000Z",end:t.toISOString(),description:"All time"}}},A=()=>[...N.DASHBOARD_EXPORT_FIELDS],_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;try{let{searchTerm:a="",selectedCampaign:s="all",sortField:r="created_at",sortDirection:l="desc",includeCompleted:n=!0,maxRecords:o=1e3}=e,i={page:1,per_page:o,sort_by:r,sort_order:l,..."all"!==s&&{campaign_id:s},...a&&{search:a},...void 0!==n&&{completed:n}},[c,d]=await Promise.all([(0,b.ah)(i),(0,b.ME)({page:1,per_page:100})]);if(!c.success||!c.data)return{success:!1,error:"Failed to load leads data"};if(!d.success||!d.data)return{success:!1,error:"Failed to load campaigns data"};let m=c.data.data||[],u=d.data.data||[],p=new Map;u.forEach(e=>{p.set(e.id,e)});let x=m.map(e=>{let t=p.get(e.campaign_id)||null;return{...e,campaign:t}});a&&!i.search&&(x=x.filter(e=>{var t,s,r,l;return(null==(t=e.email)?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null==(s=e.phone)?void 0:s.includes(a))||(null==(l=e.campaign)||null==(r=l.name)?void 0:r.toLowerCase().includes(a.toLowerCase()))}));let h=x.map(e=>{var t,a;return{email:e.email||"",phone:e.phone||"",name:e.name||"",campaignName:(null==(t=e.campaign)?void 0:t.name)||"Unknown Campaign",campaignStatus:(null==(a=e.campaign)?void 0:a.status)||"unknown",leadSource:e.utm_source||"Direct",utmSource:e.utm_source||"",utmMedium:e.utm_medium||"",utmCampaign:e.utm_campaign||"",utmContent:e.utm_content||"",utmTerm:e.utm_term||"",createdAt:e.created_at,completedAt:e.completed_at||"",isCompleted:!!e.completed_at,leadId:e.id,campaignId:e.campaign_id}}),g=x.length,f=x.filter(e=>e.completed_at).length,y=new Map;x.forEach(e=>{var t;let a=e.campaign_id,s=(null==(t=e.campaign)?void 0:t.name)||"Unknown Campaign";y.has(a)||y.set(a,{name:s,leads:0,completed:0,conversionRate:0});let r=y.get(a);r.leads+=1,e.completed_at&&(r.completed+=1),r.conversionRate=r.leads>0?r.completed/r.leads*100:0});let v=new Map;x.forEach(e=>{let t=e.utm_source||"Direct";v.set(t,(v.get(t)||0)+1)});let j={analytics:{totalLeads:g,completedLeads:f,completionRate:Math.round(100*(g>0?f/g*100:0))/100,campaignBreakdown:Array.from(y.values()),sourceBreakdown:Array.from(v.entries()).map(e=>{let[t,a]=e;return{source:t,count:a,percentage:Math.round(a/g*1e4)/100}})},filters:{searchTerm:a||null,selectedCampaign:"all"!==s?s:null,sortField:r,sortDirection:l,includeCompleted:n,maxRecords:o},userInfo:t?{monthlyLeadsCaptured:t.monthly_leads_captured||0,monthlyLeadsLimit:t.monthly_leads_limit||1e3,usagePercentage:Math.round((t.monthly_leads_captured||0)/(t.monthly_leads_limit||1e3)*100)}:null,exportedAt:new Date().toISOString(),source:"leads"};return{success:!0,data:h,metadata:j}}catch(e){return console.error("Error preparing leads export data:",e),{success:!1,error:e instanceof Error?e.message:"Failed to prepare export data"}}},k=()=>[...N.LEADS_EXPORT_FIELDS];var C=a(49754)},32383:()=>{},39419:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DASHBOARD_EXPORT_FIELDS:()=>s,LEADS_EXPORT_FIELDS:()=>r});let s=[{key:"campaignName",label:"Campaign Name",type:"string",include:!0},{key:"totalLeads",label:"Total Leads",type:"number",include:!0},{key:"completedLeads",label:"Completed Leads",type:"number",include:!0},{key:"conversionRate",label:"Conversion Rate (%)",type:"number",formatter:e=>"".concat(e.toFixed(2),"%"),include:!0},{key:"avgCompletionTime",label:"Avg Completion Time (min)",type:"number",formatter:e=>"".concat((e/60).toFixed(1)),include:!0},{key:"createdAt",label:"Created At",type:"date",include:!0},{key:"lastActivity",label:"Last Activity",type:"date",include:!0}],r=[{key:"name",label:"Name",type:"string",include:!0},{key:"email",label:"Email",type:"email",include:!0},{key:"phone",label:"Phone",type:"phone",include:!1},{key:"campaignName",label:"Campaign",type:"string",include:!0},{key:"status",label:"Status",type:"string",include:!0},{key:"completionPercentage",label:"Completion %",type:"number",formatter:e=>"".concat(e,"%"),include:!0},{key:"createdAt",label:"Created At",type:"date",include:!0},{key:"lastActivity",label:"Last Activity",type:"date",include:!1},{key:"source",label:"Source",type:"string",include:!1},{key:"ipAddress",label:"IP Address",type:"string",include:!1}]},49754:(e,t,a)=>{"use strict";a.d(t,{EX:()=>c,JN:()=>r,U8:()=>h,a3:()=>p,e_:()=>i,gs:()=>x,pN:()=>o,v7:()=>u});let s="flint_export_history",r=()=>{try{let e=localStorage.getItem(s);if(!e)return[];return JSON.parse(e).sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime())}catch(e){return console.error("Error loading export history:",e),[]}},l=e=>{try{let t={...e,id:m(),timestamp:new Date().toISOString()},a=r();a.unshift(t);let l=a.slice(0,50);return localStorage.setItem(s,JSON.stringify(l)),t}catch(e){throw console.error("Error adding export history entry:",e),e}},n=(e,t)=>{try{let a=r(),l=a.findIndex(t=>t.id===e);if(-1===l)return console.warn("Export history entry with id ".concat(e," not found")),!1;return a[l]={...a[l],...t},localStorage.setItem(s,JSON.stringify(a)),!0}catch(e){return console.error("Error updating export history entry:",e),!1}},o=e=>{try{let t=r(),a=t.filter(t=>t.id!==e);if(a.length===t.length)return console.warn("Export history entry with id ".concat(e," not found")),!1;return localStorage.setItem(s,JSON.stringify(a)),!0}catch(e){return console.error("Error removing export history entry:",e),!1}},i=()=>{try{localStorage.removeItem(s)}catch(e){console.error("Error clearing export history:",e)}},c=()=>{var e;let t=r();if(0===t.length)return{totalExports:0,successfulExports:0,failedExports:0,totalRecords:0,averageDuration:0};let a=t.filter(e=>"completed"===e.status),s=t.filter(e=>"failed"===e.status),l=t.reduce((e,t)=>e+t.recordCount,0),n=a.filter(e=>e.duration&&e.duration>0),o=n.length>0?n.reduce((e,t)=>e+(t.duration||0),0)/n.length:0;return{totalExports:t.length,successfulExports:a.length,failedExports:s.length,totalRecords:l,averageDuration:o,lastExportDate:null==(e=t[0])?void 0:e.timestamp}},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=r(),s=a;return e&&(s=a.filter(t=>t.source===e)),s.slice(0,t)},m=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),u=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["Bytes","KB","MB","GB"][t]},p=e=>{if(e<1e3)return"".concat(e,"ms");let t=Math.floor(e/1e3);if(t<60)return"".concat(t,"s");let a=Math.floor(t/60),s=t%60;return 0===s?"".concat(a,"m"):"".concat(a,"m ").concat(s,"s")},x=e=>{let t=new Date,a=new Date(e),s=t.getTime()-a.getTime(),r=Math.floor(s/6e4),l=Math.floor(s/36e5),n=Math.floor(s/864e5);return r<1?"Just now":r<60?"".concat(r," minute").concat(1===r?"":"s"," ago"):l<24?"".concat(l," hour").concat(1===l?"":"s"," ago"):n<7?"".concat(n," day").concat(1===n?"":"s"," ago"):a.toLocaleDateString()},h=()=>({startExport:e=>l({...e,status:"in-progress"}).id,completeExport:(e,t)=>{n(e,{status:"completed",...t})},failExport:(e,t)=>{n(e,{status:"failed",error:t})},getHistory:r,getStats:c,getRecent:d})},54120:(e,t,a)=>{"use strict";a.d(t,{NV:()=>D});var s=a(95155),r=a(12115),l=a(97168),n=a(82714),o=a(95784),i=a(95139),c=a(89852),d=a(88482),m=a(51154),u=a(381),p=a(57434),x=a(64261),h=a(91788),g=a(40646),f=a(85339),y=a(17580),v=a(66932),j=a(16785),N=a(81284),b=a(53999),w=a(39419);let E=e=>{let{isOpen:t,onClose:a,children:r}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-hidden",children:r})}):null},S=e=>{let{className:t}=e;return(0,s.jsx)("div",{className:(0,b.cn)("border-b border-gray-200",t)})},A=e=>{let{isOpen:t,onClose:a,onExport:b,data:A,source:_,title:k,defaultFields:C,filters:D=[],isLoading:R=!1,progress:F=null}=e,[L,M]=(0,r.useState)("csv"),[z,I]=(0,r.useState)("all"),[O,T]=(0,r.useState)([]),[H,B]=(0,r.useState)(""),[P,U]=(0,r.useState)({startDate:"",endDate:""}),[J,V]=(0,r.useState)({}),[W,$]=(0,r.useState)(!1),G=(0,r.useMemo)(()=>C||("dashboard"===_?w.DASHBOARD_EXPORT_FIELDS:w.LEADS_EXPORT_FIELDS),[C,_]),Z=(0,r.useMemo)(()=>{if(!A||0===A.length)return 0;let e=O.filter(e=>!1!==e.include).length,t=A.length*e*20,a=15*e+t;return"excel"===L?Math.round(1.5*a):a},[A,O,L]),q=(0,r.useMemo)(()=>{if("all"===z)return A.length;if("filtered"===z){let e=A;return(P.startDate||P.endDate)&&(e=e.filter(()=>!0)),e.length}return 0},[A,z,P,J]);(0,r.useEffect)(()=>{t&&G.length>0&&T(G.map(e=>({...e})))},[t,G]),(0,r.useEffect)(()=>{t||(M("csv"),I("all"),B(""),U({startDate:"",endDate:""}),V({}),$(!1))},[t]);let X=(e,t)=>{T(a=>a.map(a=>a.key===e?{...a,include:t}:a))},K=(e,t)=>{V(a=>({...a,[e]:t}))},Y=async()=>{try{await b({format:L,scope:z,fields:O,filename:H||void 0,includeHeaders:!0,dateFormat:"MM/dd/yyyy HH:mm:ss"})}catch(e){console.error("Export failed:",e)}},Q=()=>{R||a()};return((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&!R&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,R,a]),F&&R)?(0,s.jsx)(E,{isOpen:t,onClose:Q,children:(0,s.jsxs)("div",{className:"overflow-y-auto max-h-[90vh]",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-5 w-5 animate-spin"}),"Exporting Data"]}),(0,s.jsx)(d.BT,{children:F.message})]}),(0,s.jsxs)(d.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{children:[F.progress,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(F.progress,"%")}})})]}),F.totalRecords&&(0,s.jsx)("div",{className:"text-sm text-gray-600",children:F.processedRecords?"".concat(F.processedRecords," of ").concat(F.totalRecords," records processed"):"".concat(F.totalRecords," records to process")}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:["preparing"===F.stage&&(0,s.jsx)(u.A,{className:"h-4 w-4"}),"fetching"===F.stage&&(0,s.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),"formatting"===F.stage&&(0,s.jsx)(p.A,{className:"h-4 w-4"}),"generating"===F.stage&&(0,s.jsx)(x.A,{className:"h-4 w-4"}),"downloading"===F.stage&&(0,s.jsx)(h.A,{className:"h-4 w-4"}),"complete"===F.stage&&(0,s.jsx)(g.A,{className:"h-4 w-4 text-green-500"}),"error"===F.stage&&(0,s.jsx)(f.A,{className:"h-4 w-4 text-red-500"}),(0,s.jsx)("span",{className:"capitalize",children:F.stage})]})]}),"complete"===F.stage&&(0,s.jsx)(d.wL,{children:(0,s.jsx)(l.$,{onClick:Q,children:"Close"})})]})}):(0,s.jsx)(E,{isOpen:t,onClose:Q,children:(0,s.jsxs)("div",{className:"overflow-y-auto max-h-[90vh]",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5"}),k||"Export ".concat("dashboard"===_?"Dashboard":"Leads"," Data")]}),(0,s.jsx)(d.BT,{children:"Choose your export format and customize the data to include."})]}),(0,s.jsxs)(d.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(n.J,{className:"text-sm font-medium",children:"Export Format"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)(l.$,{variant:"csv"===L?"default":"outline",onClick:()=>M("csv"),className:"justify-start",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"CSV File"]}),(0,s.jsxs)(l.$,{variant:"excel"===L?"default":"outline",onClick:()=>M("excel"),className:"justify-start",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Excel File"]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(n.J,{className:"text-sm font-medium",children:"Data to Export"}),(0,s.jsxs)(o.l6,{value:z,onValueChange:e=>I(e),children:[(0,s.jsx)(o.bq,{children:(0,s.jsx)(o.yv,{placeholder:"Select data scope"})}),(0,s.jsxs)(o.gC,{children:[(0,s.jsx)(o.eb,{value:"all",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),"All Data (",A.length," records)"]})}),(0,s.jsx)(o.eb,{value:"filtered",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),"Filtered Data (",q," records)"]})}),(0,s.jsx)(o.eb,{value:"selected",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 opacity-50",children:[(0,s.jsx)(j.A,{className:"h-4 w-4"}),"Selected Items (0 records)"]})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(n.J,{className:"text-sm font-medium",children:"Fields to Include"}),(0,s.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{let e=O.every(e=>!1!==e.include);T(t=>t.map(t=>({...t,include:!e})))},className:"text-xs",children:O.every(e=>!1!==e.include)?"Deselect All":"Select All"})]}),(0,s.jsx)("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto",children:(0,s.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.Checkbox,{id:e.key,checked:!1!==e.include,onCheckedChange:t=>X(e.key,t)}),(0,s.jsx)(n.J,{htmlFor:e.key,className:"text-sm flex-1 cursor-pointer",children:e.label}),e.type&&(0,s.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:e.type})]},e.key))})})]}),(D.length>0||"filtered"===z)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S,{}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(n.J,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"h-4 w-4"}),"Filters"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(n.J,{htmlFor:"startDate",className:"text-xs",children:"Start Date"}),(0,s.jsx)(c.p,{id:"startDate",type:"date",value:P.startDate,onChange:e=>U(t=>({...t,startDate:e.target.value}))})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(n.J,{htmlFor:"endDate",className:"text-xs",children:"End Date"}),(0,s.jsx)(c.p,{id:"endDate",type:"date",value:P.endDate,onChange:e=>U(t=>({...t,endDate:e.target.value}))})]})]}),D.map(e=>(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(n.J,{className:"text-xs",children:e.label}),"select"===e.type&&e.options&&(0,s.jsxs)(o.l6,{value:J[e.key]||"",onValueChange:t=>K(e.key,t),children:[(0,s.jsx)(o.bq,{children:(0,s.jsx)(o.yv,{placeholder:e.placeholder||"Select ".concat(e.label)})}),(0,s.jsx)(o.gC,{children:e.options.map(e=>(0,s.jsx)(o.eb,{value:e.value,children:e.label},e.value))})]}),"text"===e.type&&(0,s.jsx)(c.p,{value:J[e.key]||"",onChange:t=>K(e.key,t.target.value),placeholder:e.placeholder||"Enter ".concat(e.label)})]},e.key))]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>$(!W),className:"flex items-center gap-2 p-0 h-auto",children:[(0,s.jsx)(u.A,{className:"h-4 w-4"}),"Advanced Options",(0,s.jsx)("span",{className:"text-xs text-gray-500",children:W?"(Hide)":"(Show)"})]}),W&&(0,s.jsx)("div",{className:"space-y-3 pl-6 border-l-2 border-gray-200",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(n.J,{htmlFor:"customFilename",className:"text-xs",children:"Custom Filename"}),(0,s.jsx)(c.p,{id:"customFilename",value:H,onChange:e=>B(e.target.value),placeholder:"".concat(_,"-export-").concat(new Date().toISOString().split("T")[0],".").concat("excel"===L?"xlsx":"csv")})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),"Export Summary"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,s.jsxs)("div",{children:["Format: ",L.toUpperCase()]}),(0,s.jsxs)("div",{children:["Records: ",q]}),(0,s.jsxs)("div",{children:["Fields: ",O.filter(e=>!1!==e.include).length]}),(0,s.jsxs)("div",{children:["Estimated Size: ",(e=>{if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(1))+" "+["B","KB","MB","GB"][t]})(Z)]})]})]})]}),(0,s.jsxs)(d.wL,{className:"flex justify-end gap-3",children:[(0,s.jsx)(l.$,{variant:"outline",onClick:Q,disabled:R,children:"Cancel"}),(0,s.jsx)(l.$,{onClick:Y,disabled:R||0===O.filter(e=>!1!==e.include).length,className:"min-w-24",children:R?(0,s.jsx)(m.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Export"]})})]})]})})};var _=a(67133),k=a(66474),C=a(12520);let D=e=>{let{data:t,source:a,title:n,defaultFields:o,filters:i,onExportStart:c,onExportComplete:d,onExportError:m,className:g,variant:f="default",size:y="default",showDropdown:v=!0,disabled:j=!1}=e,[N,b]=(0,r.useState)(!1),[w,E]=(0,r.useState)(!1),[S,D]=(0,r.useState)(null),{startExport:R,completeExport:F,failExport:L}=(0,C.U8)(),M=async e=>{if(j||0===t.length)return;let s={format:e,scope:"all",fields:o||[],includeHeaders:!0,dateFormat:"MM/dd/yyyy HH:mm:ss"},r=null,l=Date.now();try{E(!0),null==c||c(),r=R({source:a,format:e,filename:s.filename||"".concat(a,"-export-").concat(Date.now(),".").concat(e),recordCount:t.length,filters:i?Object.fromEntries(i.map(e=>[e.key,e.value])):void 0,fieldSelection:s.fields.map(e=>e.key),metadata:{scope:s.scope,includeHeaders:s.includeHeaders,dateFormat:s.dateFormat}});let n="csv"===e?C.GF:C.bJ,o=await n(t,s,D);if(o.success&&o.filename){let e=Date.now()-l,a=100*t.length;r&&F(r,{duration:e,fileSize:a}),null==d||d(o.filename)}else r&&L(r,o.error||"Export failed"),null==m||m(o.error||"Export failed")}catch(t){let e=t instanceof Error?t.message:"Export failed";r&&L(r,e),null==m||m(e)}finally{E(!1),D(null)}},z=async e=>{if(j||0===t.length)return;let s=null,r=Date.now();try{E(!0),null==c||c(),s=R({source:a,format:e.format,filename:e.filename||"".concat(a,"-custom-export-").concat(Date.now(),".").concat(e.format),recordCount:t.length,filters:i?Object.fromEntries(i.map(e=>[e.key,e.value])):void 0,fieldSelection:e.fields.map(e=>e.key),metadata:{scope:e.scope,includeHeaders:e.includeHeaders,dateFormat:e.dateFormat,customExport:!0}});let l="csv"===e.format?C.GF:C.bJ,n=await l(t,e,D);if(n.success&&n.filename){let e=Date.now()-r,a=100*t.length;s&&F(s,{duration:e,fileSize:a}),null==d||d(n.filename),b(!1)}else s&&L(s,n.error||"Export failed"),null==m||m(n.error||"Export failed")}catch(t){let e=t instanceof Error?t.message:"Export failed";s&&L(s,e),null==m||m(e)}finally{E(!1),D(null)}};return v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(_.rI,{children:[(0,s.jsx)(_.ty,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:f,size:y,disabled:j||0===t.length||w,className:g,children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Export",(0,s.jsx)(k.A,{className:"h-4 w-4 ml-2"})]})}),(0,s.jsxs)(_.SQ,{align:"end",className:"w-48",children:[(0,s.jsxs)(_._2,{onClick:()=>M("csv"),children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),(0,s.jsxs)(_._2,{onClick:()=>M("excel"),children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Export as Excel"]}),(0,s.jsxs)(_._2,{onClick:()=>b(!0),children:[(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Custom Export..."]})]})]}),(0,s.jsx)(A,{isOpen:N,onClose:()=>b(!1),onExport:z,data:t,source:a,title:n,defaultFields:o,filters:i,isLoading:w,progress:S})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.$,{variant:f,size:y,onClick:()=>b(!0),disabled:j||0===t.length||w,className:g,children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,s.jsx)(A,{isOpen:N,onClose:()=>b(!1),onExport:z,data:t,source:a,title:n,defaultFields:o,filters:i,isLoading:w,progress:S})]})}},67133:(e,t,a)=>{"use strict";a.d(t,{Hr:()=>u,Ht:()=>h,SQ:()=>p,_2:()=>x,mB:()=>g,rI:()=>d,ty:()=>m});var s=a(95155),r=a(12115),l=a(9449),n=a(13052),o=a(5196),i=a(9428),c=a(53999);let d=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb;let u=l.z6;r.forwardRef((e,t)=>{let{className:a,inset:r,children:o,...i}=e;return(0,s.jsxs)(l.ZP,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",a),...i,children:[o,(0,s.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...r})}).displayName=l.G5.displayName;let p=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...n})})});p.displayName=l.UC.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r&&"pl-8",a),...n})});x.displayName=l.q7.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,checked:n,...i}=e;return(0,s.jsxs)(l.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName;let h=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(l.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),r]})});h.displayName=l.hN.displayName,r.forwardRef((e,t)=>{let{className:a,inset:r,...n}=e;return(0,s.jsx)(l.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...n})}).displayName=l.JU.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});g.displayName=l.wv.displayName},82714:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(95155);a(12115);var r=a(40968),l=a(53999);function n(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},83686:()=>{},89852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(95155),r=a(12115),l=a(53999);let n=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},90242:(e,t,a)=>{"use strict";a.d(t,{H:()=>y});var s=a(95155),r=a(12115),l=a(88482),n=a(97168),o=a(88145),i=a(49754),c=a(40646),d=a(54861),m=a(14186),u=a(57434),p=a(65112),x=a(91788),h=a(72713),g=a(62525),f=a(66932);let y=e=>{let{source:t="all",maxEntries:a=10,showStats:y=!0,compact:v=!1}=e,[j,N]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),[E,S]=(0,r.useState)(null),[A,_]=(0,r.useState)("all"),[k,C]=(0,r.useState)("all");(0,r.useEffect)(()=>{D()},[]),(0,r.useEffect)(()=>{R()},[j,t,A,k,a]);let D=()=>{let e=(0,i.JN)(),t=(0,i.EX)();N(e),S(t)},R=()=>{let e=[...j];"all"!==t&&(e=e.filter(e=>e.source===t)),"all"!==A&&(e=e.filter(e=>e.status===A)),"all"!==k&&(e=e.filter(e=>e.format===k)),w(e=e.slice(0,a))},F=e=>{(0,i.pN)(e),D()},L=()=>{window.confirm("Are you sure you want to clear all export history?")&&((0,i.e_)(),D())},M=e=>{switch(e){case"completed":return(0,s.jsx)(c.A,{className:"h-4 w-4 text-green-500"});case"failed":return(0,s.jsx)(d.A,{className:"h-4 w-4 text-red-500"});case"in-progress":return(0,s.jsx)(m.A,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return(0,s.jsx)(m.A,{className:"h-4 w-4 text-gray-400"})}},z=e=>{switch(e){case"csv":return(0,s.jsx)(u.A,{className:"h-4 w-4 text-green-600"});case"excel":return(0,s.jsx)(p.A,{className:"h-4 w-4 text-blue-600"});default:return(0,s.jsx)(x.A,{className:"h-4 w-4 text-gray-400"})}},I=e=>(0,s.jsx)(o.E,{variant:{dashboard:"default",leads:"secondary"}[e],className:"text-xs",children:"dashboard"===e?"Dashboard":"Leads"});return v?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Recent Exports"}),j.length>0&&(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:L,className:"text-xs text-gray-500 hover:text-gray-700",children:"Clear"})]}),0===b.length?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No exports yet"}):(0,s.jsx)("div",{className:"space-y-1",children:b.slice(0,3).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[M(e.status),z(e.format),(0,s.jsx)("span",{className:"font-medium",children:e.filename})]}),(0,s.jsx)("span",{className:"text-gray-500",children:(0,i.gs)(e.timestamp)})]},e.id))})]}):(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Export History"})]}),(0,s.jsx)(l.BT,{children:"Track and manage your data export activities"})]}),j.length>0&&(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:L,className:"text-red-600 hover:text-red-700",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Clear All"]})]})}),(0,s.jsxs)(l.Wu,{children:[y&&E&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:E.totalExports}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Total Exports"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E.successfulExports}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Successful"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:E.totalRecords.toLocaleString()}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Records Exported"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(0,i.a3)(E.averageDuration)}),(0,s.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Duration"})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Filter:"})]}),(0,s.jsxs)("select",{value:A,onChange:e=>_(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"completed",children:"Completed"}),(0,s.jsx)("option",{value:"failed",children:"Failed"})]}),(0,s.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,s.jsx)("option",{value:"all",children:"All Formats"}),(0,s.jsx)("option",{value:"csv",children:"CSV"}),(0,s.jsx)("option",{value:"excel",children:"Excel"})]})]}),0===b.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(x.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No exports found"}),(0,s.jsx)("p",{className:"text-gray-500",children:"all"===t?"Start exporting data to see your export history here.":"No ".concat(t," exports found. Try changing your filters.")})]}):(0,s.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[M(e.status),z(e.format)]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.filename}),I(e.source)]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:[e.recordCount.toLocaleString()," records"]}),e.fileSize&&(0,s.jsx)("span",{children:(0,i.v7)(e.fileSize)}),e.duration&&(0,s.jsx)("span",{children:(0,i.a3)(e.duration)}),(0,s.jsx)("span",{children:(0,i.gs)(e.timestamp)})]}),e.error&&(0,s.jsxs)("div",{className:"text-sm text-red-600 mt-1",children:["Error: ",e.error]})]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>F(e.id),className:"text-gray-400 hover:text-red-600",children:(0,s.jsx)(g.A,{className:"h-4 w-4"})})})]},e.id))})]})]})}},95139:(e,t,a)=>{"use strict";a.d(t,{Checkbox:()=>i});var s=a(95155),r=a(12115),l=a(76981),n=a(5196),o=a(53999);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.bL,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(l.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})})});i.displayName=l.bL.displayName},95784:(e,t,a)=>{"use strict";a.d(t,{bq:()=>m,eb:()=>p,gC:()=>u,l6:()=>c,yv:()=>d});var s=a(95155);a(12115);var r=a(22918),l=a(66474),n=a(5196),o=a(47863),i=a(53999);function c(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:a="default",children:n,...o}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[n,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:t,children:a,position:l="popper",...n}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,s.jsx)(x,{}),(0,s.jsx)(r.LM,{className:(0,i.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(h,{})]})})}function p(e){let{className:t,children:a,...l}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...l,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(n.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function x(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(o.A,{className:"size-4"})})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(l.A,{className:"size-4"})})}}}]);