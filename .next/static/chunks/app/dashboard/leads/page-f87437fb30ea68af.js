(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[950],{381:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5623:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},13052:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},17580:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},19420:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},21492:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},28883:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},34835:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},35695:(e,a,s)=>{"use strict";var t=s(18999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},42355:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},47147:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(12115),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},r=s(66977);let i=(0,t.forwardRef)((e,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:x,...o}=e;return(0,t.createElement)("svg",{ref:a,...l,width:i,height:i,stroke:s,strokeWidth:n?24*Number(c)/Number(i):c,className:(0,r.zP)("lucide",d),...!m&&!(0,r.m$)(o)&&{"aria-hidden":"true"},...o},[...x.map(e=>{let[a,s]=e;return(0,t.createElement)(a,s)}),...Array.isArray(m)?m:[m]])})},47924:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},62533:(e,a,s)=>{"use strict";s.d(a,{F:()=>p});var t=s(95155),l=s(12115),r=s(34835),i=s(28883),c=s(71007),n=s(69074),d=s(75525),m=s(381),x=s(97168),o=s(88482),h=s(88145),u=s(76052);function p(e){var a;let{user:s,showActions:p=!0,variant:j="card"}=e,{user:v,signOut:f}=(0,u.A)(),y=s||v,[N,g]=(0,l.useState)(!1);if(!y)return null;let w=async()=>{g(!0);try{await f()}finally{g(!1)}},b=e=>e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()).slice(0,2).join(""),k=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return"compact"===j?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600",children:b(y.email||"")})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:y.email}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:y.email_confirmed_at?"Verified":"Unverified"})]}),p&&(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:w,disabled:N,children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})]}):(0,t.jsxs)(o.Zp,{className:"full"===j?"w-full":"w-full max-w-md",children:[(0,t.jsxs)(o.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4",children:(0,t.jsx)("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl font-semibold text-blue-600",children:b(y.email||"")})})}),(0,t.jsx)(o.ZB,{className:"text-lg",children:y.email}),(0,t.jsx)(o.BT,{children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(h.E,{variant:y.email_confirmed_at?"default":"secondary",children:y.email_confirmed_at?"Verified":"Unverified"}),(null==(a=y.app_metadata)?void 0:a.provider)&&(0,t.jsx)(h.E,{variant:"outline",children:y.app_metadata.provider})]})})]}),"full"===j&&(0,t.jsxs)(o.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Email"}),(0,t.jsx)("p",{className:"text-gray-600",children:y.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"User ID"}),(0,t.jsx)("p",{className:"text-gray-600 font-mono text-xs",children:y.id})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Member Since"}),(0,t.jsx)("p",{className:"text-gray-600",children:y.created_at?k(y.created_at):"Unknown"})]})]}),y.last_sign_in_at&&(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Last Sign In"}),(0,t.jsx)("p",{className:"text-gray-600",children:k(y.last_sign_in_at)})]})]})]}),y.app_metadata&&Object.keys(y.app_metadata).length>0&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Authentication Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[y.app_metadata.provider&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Provider:"}),(0,t.jsx)("span",{className:"font-medium",children:y.app_metadata.provider})]}),y.role&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Role:"}),(0,t.jsx)("span",{className:"font-medium",children:y.role})]})]})]})]}),p&&(0,t.jsx)(o.Wu,{className:"full"===j?"pt-0":"",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(x.$,{variant:"outline",size:"sm",className:"flex-1",disabled:!0,children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Settings"]}),(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:w,disabled:N,className:"flex-1",children:[(0,t.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})]})}},66977:(e,a,s)=>{"use strict";s.d(a,{MX:()=>r,fX:()=>t,m$:()=>c,zP:()=>i});let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,s)=>s?s.toUpperCase():a.toLowerCase()),r=e=>{let a=l(e);return a.charAt(0).toUpperCase()+a.slice(1)},i=function(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.filter((e,a,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===a).join(" ").trim()},c=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0}},69074:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71007:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},75525:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},89852:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(95155),l=s(12115),r=s(53999);let i=l.forwardRef((e,a)=>{let{className:s,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...i})});i.displayName="Input"},90602:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(12115),l=s(66977),r=s(47147);let i=(e,a)=>{let s=(0,t.forwardRef)((s,i)=>{let{className:c,...n}=s;return(0,t.createElement)(r.A,{ref:i,iconNode:a,className:(0,l.zP)("lucide-".concat((0,l.fX)((0,l.MX)(e))),"lucide-".concat(e),c),...n})});return s.displayName=(0,l.MX)(e),s}},91788:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},92657:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(90602).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},95130:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var t=s(95155),l=s(12115),r=s(35695),i=s(97168),c=s(88482),n=s(89852),d=s(88145),m=s(62533),x=s(76052),o=s(17712),h=s(42355),u=s(91788),p=s(47924),j=s(21492),v=s(28883),f=s(19420),y=s(69074),N=s(92657),g=s(5623),w=s(13052),b=s(17580);function k(){let{user:e,loading:a}=(0,x.A)(),s=(0,r.useRouter)(),[k,A]=(0,l.useState)(null),[_,C]=(0,l.useState)([]),[M,S]=(0,l.useState)([]),[E,z]=(0,l.useState)(!0),[L,$]=(0,l.useState)(null),[P,U]=(0,l.useState)(""),[D,R]=(0,l.useState)("all"),[V,O]=(0,l.useState)("created_at"),[W,Z]=(0,l.useState)("desc"),[B,T]=(0,l.useState)(1),[q,F]=(0,l.useState)(0),[H,I]=(0,l.useState)(0);(0,l.useEffect)(()=>{a||e||s.push("/auth/login")},[e,a,s]),(0,l.useEffect)(()=>{e&&X()},[e,B,P,D,V,W]);let X=async()=>{try{z(!0),$(null);let[t,l]=await Promise.all([(0,o.Rk)(),(0,o.ME)({page:1,per_page:100})]);t.success&&t.data&&A(t.data),l.success&&l.data&&S(l.data.data||[]);let r=await (0,o.ah)({page:B,per_page:20});if(!r.success)throw Error(r.error||"Failed to load leads");if(r.data){var e,a,s;let t=(null==(e=r.data.data)?void 0:e.map(e=>{var a,s;let t=(null==(s=l.data)||null==(a=s.data)?void 0:a.find(a=>a.id===e.campaign_id))||null;return{...e,campaign:t}}))||[];P&&(t=t.filter(e=>{var a,s,t,l;return(null==(a=e.email)?void 0:a.toLowerCase().includes(P.toLowerCase()))||(null==(s=e.phone)?void 0:s.includes(P))||(null==(l=e.campaign)||null==(t=l.name)?void 0:t.toLowerCase().includes(P.toLowerCase()))})),"all"!==D&&(t=t.filter(e=>e.campaign_id===D)),t.sort((e,a)=>{let s,t;switch(V){case"created_at":s=new Date(e.created_at),t=new Date(a.created_at);break;case"email":s=e.email||"",t=a.email||"";break;case"phone":s=e.phone||"",t=a.phone||"";break;case"campaign_name":var l,r;s=(null==(l=e.campaign)?void 0:l.name)||"",t=(null==(r=a.campaign)?void 0:r.name)||"";break;default:s=e.created_at,t=a.created_at}return s<t?"asc"===W?-1:1:s>t?"asc"===W?1:-1:0}),C(t),F((null==(a=r.data.meta)?void 0:a.total)||0),I(Math.ceil(((null==(s=r.data.meta)?void 0:s.total)||0)/20))}}catch(e){console.error("Error loading leads data:",e),$(e instanceof Error?e.message:"An error occurred")}finally{z(!1)}},Y=e=>{V===e?Z("asc"===W?"desc":"asc"):(O(e),Z("asc"))},G=async()=>{try{var e,a;let s=await (0,o.ah)({page:1,per_page:1e3});if(!s.success||!s.data)throw Error("Failed to load leads for export");let t=await (0,o.ME)({page:1,per_page:100}),l=new Map;t.success&&t.data&&(null==(a=t.data.data)||a.forEach(e=>{l.set(e.id,e)}));let r=["Email,Phone,Campaign,Lead Source,UTM Source,UTM Medium,UTM Campaign,Created Date,Status"];null==(e=s.data.data)||e.forEach(e=>{let a=l.get(e.campaign_id);r.push([e.email||"",e.phone||"",(null==a?void 0:a.name)||"",e.utm_source||"Direct",e.utm_source||"",e.utm_medium||"",e.utm_campaign||"",new Date(e.created_at).toLocaleDateString(),"Active"].join(","))});let i=r.join("\n"),c=new Blob([i],{type:"text/csv"}),n=window.URL.createObjectURL(c),d=document.createElement("a");d.href=n,d.download="flint-leads-".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(n)}catch(e){console.error("Error exporting leads:",e),$("Failed to export leads")}},J=e=>e.email&&e.phone?(0,t.jsx)(d.E,{variant:"default",children:"Email + Phone"}):e.email?(0,t.jsx)(d.E,{variant:"secondary",children:"Email"}):e.phone?(0,t.jsx)(d.E,{variant:"outline",children:"Phone"}):(0,t.jsx)(d.E,{variant:"destructive",children:"No Contact"}),K=e=>e?(0,t.jsx)(d.E,{variant:{published:"default",draft:"secondary",archived:"outline"}[e.status]||"outline",children:e.name}):(0,t.jsx)(d.E,{variant:"outline",children:"Unknown"});return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("header",{className:"bg-white shadow",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(i.$,{variant:"ghost",onClick:()=>s.push("/dashboard"),className:"text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Leads"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsx)(m.F,{variant:"compact"})})]})})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 space-y-4 sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium text-lg text-gray-900",children:q}),(0,t.jsx)("span",{className:"ml-1",children:"total leads"})]}),k&&(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("span",{className:"font-medium",children:[k.monthly_leads_captured||0," / ",k.monthly_leads_limit||1e3]}),(0,t.jsx)("span",{className:"ml-1",children:"leads this month"})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:G,className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Export CSV"})]})})]}),(0,t.jsx)(c.Zp,{className:"mb-6",children:(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{placeholder:"Search leads by email, phone, or campaign...",value:P,onChange:e=>U(e.target.value),className:"pl-10"})]})}),(0,t.jsx)("div",{className:"w-full sm:w-64",children:(0,t.jsxs)("select",{value:D,onChange:e=>R(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,t.jsx)("option",{value:"all",children:"All Campaigns"}),M.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})})]})})}),L&&(0,t.jsx)(c.Zp,{className:"mb-6 border-red-200 bg-red-50",children:(0,t.jsx)(c.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-red-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Error loading leads"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:L}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",className:"mt-2",onClick:X,children:"Try Again"})]})})}),(0,t.jsxs)(c.Zp,{children:[(0,t.jsxs)(c.aR,{children:[(0,t.jsx)(c.ZB,{children:"Lead Database"}),(0,t.jsx)(c.BT,{children:"Manage and view all captured leads from your campaigns"})]}),(0,t.jsx)(c.Wu,{children:E?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-4 border rounded-lg animate-pulse",children:[(0,t.jsx)("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),(0,t.jsx)("div",{className:"h-6 w-20 bg-gray-200 rounded"})]},a))}):_.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left py-3 px-4",children:(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>Y("email"),className:"hover:bg-gray-100 font-medium",children:["Contact Info",(0,t.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)("th",{className:"text-left py-3 px-4",children:(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>Y("campaign_name"),className:"hover:bg-gray-100 font-medium",children:["Campaign",(0,t.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)("th",{className:"text-left py-3 px-4",children:"Source"}),(0,t.jsx)("th",{className:"text-left py-3 px-4",children:(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>Y("created_at"),className:"hover:bg-gray-100 font-medium",children:["Created",(0,t.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:_.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2",children:e.email&&(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.email})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e.phone&&(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.phone})]}),J(e)]})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:K(e.campaign)}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("div",{className:"text-gray-900",children:e.utm_source||"Direct"}),e.utm_source&&(0,t.jsx)("div",{className:"text-gray-500",children:e.utm_source||"Unknown"})]})}),(0,t.jsx)("td",{className:"py-4 px-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[(0,t.jsx)(y.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:new Date(e.created_at).toLocaleDateString()})]})}),(0,t.jsx)("td",{className:"py-4 px-4 text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(N.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),H>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(B-1)*20+1," to ",Math.min(20*B,q)," of ",q," leads"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>T(Math.max(1,B-1)),disabled:1===B,children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),"Previous"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",B," of ",H]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>T(Math.min(H,B+1)),disabled:B===H,children:["Next",(0,t.jsx)(w.A,{className:"h-4 w-4"})]})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(b.A,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No leads yet"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"Leads will appear here once people start completing your campaigns."}),(0,t.jsx)(i.$,{onClick:()=>s.push("/dashboard/campaigns"),size:"sm",children:"View Your Campaigns"})]})})]})]})})]}):null}},96817:(e,a,s)=>{Promise.resolve().then(s.bind(s,95130))}},e=>{var a=a=>e(e.s=a);e.O(0,[935,352,463,441,684,358],()=>a(96817)),_N_E=e.O()}]);