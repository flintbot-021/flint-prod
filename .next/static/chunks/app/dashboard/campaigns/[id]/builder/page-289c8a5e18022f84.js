(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{39960:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>sm});var t=a(95155),i=a(12115),l=a(35695),n=a(76052),r=a(17712);let c=[{id:"question-multiple-choice",name:"Multiple Choice",description:"Single or multiple selection questions",icon:"CheckSquare",category:"input",color:"bg-blue-100 text-blue-800 border-blue-200",defaultSettings:{question:"What is your preference?",options:["Option 1","Option 2","Option 3"],allowMultiple:!1,required:!0}},{id:"question-text",name:"Text Input",description:"Short text or long text responses",icon:"Type",category:"input",color:"bg-blue-100 text-blue-800 border-blue-200",defaultSettings:{question:"Please provide your answer",placeholder:"Type your answer here...",maxLength:500,required:!0,inputType:"text"}},{id:"question-rating",name:"Rating Scale",description:"Star ratings or numeric scales",icon:"Star",category:"input",color:"bg-blue-100 text-blue-800 border-blue-200",defaultSettings:{question:"How would you rate this?",scale:5,scaleType:"stars",required:!0}},{id:"capture-email",name:"Email Capture",description:"Collect email addresses",icon:"Mail",category:"input",color:"bg-green-100 text-green-800 border-green-200",defaultSettings:{label:"Email Address",placeholder:"Enter your email...",required:!0,validation:"email"}},{id:"capture-contact",name:"Contact Form",description:"Full contact information collection",icon:"UserPlus",category:"input",color:"bg-green-100 text-green-800 border-green-200",defaultSettings:{fields:["name","email","phone"],requiredFields:["name","email"],title:"Get in Touch"}},{id:"capture",name:"Lead Capture",description:"Flexible lead data collection form",icon:"Users",category:"input",color:"bg-green-100 text-green-800 border-green-200",defaultSettings:{title:"Get Your Results",subheading:"Enter your information to unlock your personalized results",enabledFields:{name:!0,email:!0,phone:!1},requiredFields:{name:!0,email:!0,phone:!1},fieldLabels:{name:"Full Name",email:"Email Address",phone:"Phone Number"},fieldPlaceholders:{name:"Enter your full name",email:"your@email.com",phone:"+1 (555) 123-4567"},submitButtonText:"Get My Results",gdprConsent:!1,marketingConsent:!1}},{id:"info-text",name:"Text Block",description:"Rich text content and paragraphs",icon:"FileText",category:"content",color:"bg-purple-100 text-purple-800 border-purple-200",defaultSettings:{title:"Information",content:"Add your content here...",alignment:"left"}},{id:"info-image",name:"Image",description:"Images with optional captions",icon:"Image",category:"content",color:"bg-purple-100 text-purple-800 border-purple-200",defaultSettings:{src:"",alt:"",caption:"",alignment:"center"}},{id:"info-video",name:"Video",description:"Embedded videos and media",icon:"Play",category:"content",color:"bg-purple-100 text-purple-800 border-purple-200",defaultSettings:{src:"",title:"",autoplay:!1,controls:!0}},{id:"logic-conditional",name:"Conditional Logic",description:"Show/hide content based on answers",icon:"GitBranch",category:"logic",color:"bg-orange-100 text-orange-800 border-orange-200",defaultSettings:{conditions:[],actions:[]}},{id:"logic-calculator",name:"Score Calculator",description:"Calculate scores based on responses",icon:"Calculator",category:"logic",color:"bg-orange-100 text-orange-800 border-orange-200",defaultSettings:{scoring:{},showScore:!0}},{id:"output-results",name:"Results Page",description:"Display personalized results",icon:"Target",category:"output",color:"bg-emerald-100 text-emerald-800 border-emerald-200",defaultSettings:{title:"Your Results",content:"Based on your answers...",showScore:!1}},{id:"output-download",name:"Download Link",description:"Provide downloadable resources",icon:"Download",category:"output",color:"bg-emerald-100 text-emerald-800 border-emerald-200",defaultSettings:{title:"Download Your Resource",description:"Click below to download",fileUrl:"",fileName:"resource.pdf"}},{id:"output-redirect",name:"Redirect",description:"Redirect to external URL",icon:"ExternalLink",category:"output",color:"bg-emerald-100 text-emerald-800 border-emerald-200",defaultSettings:{url:"",delay:0,message:"Redirecting..."}}],d=e=>c.find(s=>s.id===e),o=e=>c.filter(s=>s.category===e),m=[{id:"input",name:"Input & Questions",icon:"HelpCircle"},{id:"content",name:"Content",icon:"FileText"},{id:"logic",name:"Logic & Flow",icon:"GitBranch"},{id:"output",name:"Output & Results",icon:"Target"}];var x=a(97168),u=a(89852),h=a(35169),p=a(5196),g=a(54416),j=a(44940),v=a(51154),b=a(4229),f=a(92657),y=a(34869),N=a(53999);function w(e){let{campaignName:s,campaignStatus:a,isPublished:n=!1,isSaving:r=!1,canPublish:c=!0,onCampaignNameChange:d,onSave:o,onPreview:m,onPublish:w,className:C}=e,k=(0,l.useRouter)(),[S,A]=(0,i.useState)(!1),[E,L]=(0,i.useState)(s),[P,F]=(0,i.useState)(!1),T=(0,i.useRef)(null),q=(0,i.useRef)(null);(0,i.useEffect)(()=>{L(s)},[s]),(0,i.useEffect)(()=>{let e=()=>{q.current&&F(q.current.getBoundingClientRect().top<=0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>{S&&T.current&&(T.current.focus(),T.current.select())},[S]);let z=()=>{E.trim()&&E!==s&&(null==d||d(E.trim())),A(!1)},R=()=>{L(s),A(!1)};return(0,t.jsxs)("div",{ref:q,className:(0,N.cn)("bg-white border-b border-gray-200 transition-all duration-200",P&&"shadow-md",C),style:{position:"sticky",top:0,zIndex:50},children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(x.$,{variant:"ghost",size:"sm",onClick:()=>{k.push("/dashboard/campaigns")},className:"text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]}),(0,t.jsx)("div",{className:"h-6 w-px bg-gray-300"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:S?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.p,{ref:T,value:E,onChange:e=>L(e.target.value),onKeyDown:e=>{"Enter"===e.key?z():"Escape"===e.key&&R()},onBlur:z,className:"h-8 text-lg font-semibold min-w-[200px]",placeholder:"Campaign name"}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:z,className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:(0,t.jsx)(p.A,{className:"h-4 w-4"})}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:R,className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:s}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:()=>{A(!0)},className:"h-8 w-8 p-0 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(j.A,{className:"h-3 w-3"})})]})}),(0,t.jsx)("div",{className:(0,N.cn)("px-2 py-1 rounded-full text-xs font-medium border",(()=>{switch(a){case"published":return"bg-green-100 text-green-800 border-green-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})()),children:(()=>{switch(a){case"published":return"Published";case"draft":return"Draft";case"archived":return"Archived";default:return"Unknown"}})()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[o&&(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:o,disabled:r,className:"text-gray-600 border-gray-300 hover:text-gray-900 hover:border-gray-400",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Save"]})}),m&&(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:m,className:"text-blue-600 border-blue-300 hover:text-blue-700 hover:border-blue-400",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Preview"]}),w&&(0,t.jsxs)(x.$,{size:"sm",onClick:w,disabled:!c||r,className:(0,N.cn)(n?"bg-orange-600 hover:bg-orange-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),n?"Unpublish":"Publish"]})]})]})}),r&&(0,t.jsx)("div",{className:"h-1 bg-gray-200",children:(0,t.jsx)("div",{className:"h-full bg-blue-600 animate-pulse",style:{width:"100%"}})})]})}var C=a(88145),k=a(75143),S=a(47937);function A(e){let{sectionType:s,className:a}=e,{attributes:i,listeners:l,setNodeRef:n,transform:r,isDragging:c}=(0,k.PM)({id:"section-type-".concat(s.id),data:{type:"section-type",sectionType:s}}),d=r?{transform:"translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)")}:void 0,o=S[s.icon];return(0,t.jsxs)("div",{ref:n,style:d,...l,...i,className:(0,N.cn)("group relative cursor-grab active:cursor-grabbing","p-3 rounded-lg border-2 border-dashed border-gray-200","hover:border-gray-300 hover:bg-gray-50","transition-all duration-200","bg-white",c&&"opacity-50 scale-95 shadow-lg border-blue-300",a),children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:(0,N.cn)("flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center",s.color),children:o&&(0,t.jsx)(o,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:s.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:s.description})]})]}),(0,t.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("div",{className:"grid grid-cols-2 gap-0.5",children:[...Array(6)].map((e,s)=>(0,t.jsx)("div",{className:"w-1 h-1 bg-gray-400 rounded-full"},s))})}),c&&(0,t.jsx)("div",{className:"absolute inset-0 bg-blue-100 bg-opacity-50 rounded-lg border-2 border-blue-300 border-dashed"})]})}var E=a(47924),L=a(66474),P=a(13052);function F(e){let{className:s}=e,[a,l]=(0,i.useState)(""),[n,r]=(0,i.useState)(new Set(["input"])),d=c.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())),x=e=>{r(s=>{let a=new Set(s);return a.has(e)?a.delete(e):a.add(e),a})},h=e=>{let s=o(e);return a?s.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())).length:s.length},p=e=>{let s=o(e);return a?s.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())):s};return(0,t.jsxs)("div",{className:(0,N.cn)("h-full flex flex-col",s),children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Section Components"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(E.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(u.p,{placeholder:"Search sections...",value:a,onChange:e=>l(e.target.value),className:"pl-10"})]}),a&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[d.length," section",1!==d.length?"s":""," found"]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:a?(0,t.jsx)("div",{className:"p-4 space-y-3",children:d.length>0?d.map(e=>(0,t.jsx)(A,{sectionType:e},e.id)):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(E.A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{children:"No sections found"}),(0,t.jsx)("p",{className:"text-sm",children:"Try a different search term"})]})}):(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:m.map(e=>{let s=h(e.id),a=n.has(e.id),i=S[e.icon];return 0===s?null:(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>x(e.id),className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a?(0,t.jsx)(L.A,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(P.A,{className:"h-4 w-4 text-gray-400"}),i&&(0,t.jsx)(i,{className:"h-4 w-4 text-gray-600"})]}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]}),(0,t.jsx)(C.E,{variant:"secondary",className:"text-xs",children:s})]})}),a&&(0,t.jsx)("div",{className:"px-4 pb-4 space-y-3",children:p(e.id).map(e=>(0,t.jsx)(A,{sectionType:e},e.id))})]},e.id)})})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,t.jsxs)("p",{children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Tip:"})," Drag sections to the canvas to add them"]}),(0,t.jsx)("p",{children:"\uD83D\uDD0D Use search to quickly find specific section types"})]})})]})}var T=a(50402),q=a(78266),z=a(88482),R=a(92220),U=a(99474),I=a(85339);let J={default:"text-sm text-gray-900",heading:"text-xl font-semibold text-gray-900",subheading:"text-lg font-medium text-gray-900",body:"text-sm text-gray-700",caption:"text-xs text-gray-500"},D={sm:"text-xs",md:"text-sm",lg:"text-base"},O=(0,i.forwardRef)((e,s)=>{let{value:a,onSave:i,className:l,inputClassName:n,editClassName:r,errorClassName:c,placeholder:d="Click to edit...",disabled:o=!1,variant:m="default",size:x="md",showEditIcon:h=!1,showSaveStatus:g=!0,truncate:j=!1,multiline:b=!1,maxLength:f,required:y=!1,validation:w,autoSave:C=!0,autoSaveDelay:k=500,...S}=e,{isEditing:A,value:E,displayValue:L,error:P,isSaving:F,isDirty:T,startEdit:q,setValue:z,handleKeyDown:O,handleBlur:$,inputRef:_}=(0,R.v)(a,{onSave:i,placeholder:d,multiline:b,maxLength:f,required:y,validation:w,autoSave:C,autoSaveDelay:k,...S}),V=!a&&!d;if(o)return(0,t.jsx)("div",{ref:s,className:(0,N.cn)(J[m],D[x],j&&"truncate","cursor-not-allowed opacity-50",l),children:L});if(A){let e=b?U.T:u.p;return(0,t.jsxs)("div",{ref:s,className:(0,N.cn)("relative",r),children:[(0,t.jsx)(e,{ref:_,value:E,onChange:e=>z(e.target.value),onKeyDown:O,onBlur:$,placeholder:d,maxLength:f,className:(0,N.cn)("w-full",J[m],D[x],P&&"border-red-500 focus:ring-red-500",n),disabled:F,autoFocus:!0}),g&&(F||T)&&(0,t.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center",children:F?(0,t.jsx)(v.A,{className:"h-3 w-3 animate-spin text-blue-500"}):T?(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}):(0,t.jsx)(p.A,{className:"h-3 w-3 text-green-500"})}),P&&(0,t.jsxs)("div",{className:(0,N.cn)("absolute top-full left-0 mt-1 flex items-center space-x-1 text-xs text-red-600",c),children:[(0,t.jsx)(I.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:P})]}),f&&(0,t.jsxs)("div",{className:"absolute top-full right-0 mt-1 text-xs text-gray-400",children:[E.length,"/",f]})]})}return(0,t.jsxs)("div",{ref:s,onClick:q,className:(0,N.cn)("group relative cursor-text transition-colors",J[m],D[x],j&&"truncate",V&&"text-gray-400 italic","hover:bg-gray-50 rounded px-2 py-1 -mx-2 -my-1","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1",l),tabIndex:0,role:"button","aria-label":"Edit ".concat(L||"text"),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),q())},children:[L,h&&(0,t.jsx)("span",{className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),V&&(0,t.jsx)("span",{className:"text-gray-300 select-none",children:d||"Click to add text..."})]})});O.displayName="InlineEditableText";var $=a(57434),_=a(67133),V=a(48021),M=a(78749),B=a(381),W=a(44020),Y=a(24357),Z=a(62525);function H(e){let{section:s,onUpdate:a,onDelete:l,onDuplicate:n,onConfigure:r,className:c,showConfiguration:o=!0}=e,[m,u]=(0,i.useState)(!1),{attributes:h,listeners:p,setNodeRef:g,transform:j,transition:b,isDragging:y}=(0,T.gl)({id:s.id,data:{type:"campaign-section",section:s}}),w={transform:q.Ks.Transform.toString(j),transition:b},C=d(s.type),k=C?S[C.icon]:$.A,A=async e=>{if(e.trim()!==s.title){u(!0);try{await a(s.id,{title:e.trim()})}catch(e){throw e}finally{u(!1)}}},E=async()=>{u(!0);try{await a(s.id,{isVisible:!s.isVisible})}catch(e){console.error("Failed to update visibility:",e)}finally{u(!1)}},L=()=>{null==r||r(s.id)};return(0,t.jsx)(z.Zp,{ref:g,style:w,className:(0,N.cn)("group relative transition-all duration-200",y&&"opacity-50 shadow-lg scale-105 rotate-2",!s.isVisible&&"opacity-60","hover:shadow-md",c),children:(0,t.jsx)(z.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("button",{...h,...p,className:"mt-2 p-1 text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",disabled:m,children:(0,t.jsx)(V.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:(0,N.cn)("flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center mt-1",(null==C?void 0:C.color)||"bg-gray-100 text-gray-600",!s.isVisible&&"opacity-60"),children:k&&(0,t.jsx)(k,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)(O,{value:s.title,onSave:A,variant:"subheading",placeholder:"Enter section title...",className:(0,N.cn)("font-medium",s.isVisible?"text-gray-900":"text-gray-500"),showEditIcon:!1,showSaveStatus:!0,validation:e=>e.trim()?e.length>100?"Title must be 100 characters or less":null:"Section title is required",maxLength:100,required:!0,disabled:m}),m&&(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin text-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,t.jsx)("span",{className:"font-medium",children:(null==C?void 0:C.name)||s.type}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:["Order ",s.order]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{className:(0,N.cn)("px-2 py-1 rounded-full text-xs font-medium",(null==C?void 0:C.category)==="input"&&"bg-blue-100 text-blue-700",(null==C?void 0:C.category)==="content"&&"bg-green-100 text-green-700",(null==C?void 0:C.category)==="logic"&&"bg-purple-100 text-purple-700",(null==C?void 0:C.category)==="output"&&"bg-orange-100 text-orange-700"),children:null==C?void 0:C.category})]}),!s.isVisible&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-orange-600 bg-orange-50 px-2 py-1 rounded-full",children:[(0,t.jsx)(M.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Hidden"})]})]}),(null==C?void 0:C.description)&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-3 leading-relaxed",children:C.description}),s.settings&&Object.keys(s.settings).length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-md p-3 mb-3",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Configuration:"}),(0,t.jsxs)("div",{className:"space-y-1",children:[Object.entries(s.settings).slice(0,3).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,t.jsxs)("span",{className:"text-gray-600 capitalize",children:[s.replace(/([A-Z])/g," $1"),":"]}),(0,t.jsx)("span",{className:"text-gray-900 font-medium truncate ml-2 max-w-32",children:String(a)})]},s)}),Object.keys(s.settings).length>3&&(0,t.jsxs)("div",{className:"text-xs text-gray-400 pt-1 border-t border-gray-200",children:["+",Object.keys(s.settings).length-3," more settings"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:E,disabled:m,className:"h-7 px-2 text-xs",children:s.isVisible?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-1"}),"Visible"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.A,{className:"h-3 w-3 mr-1"}),"Hidden"]})}),o&&(0,t.jsxs)(x.$,{variant:"ghost",size:"sm",onClick:L,disabled:m,className:"h-7 px-2 text-xs",children:[(0,t.jsx)(B.A,{className:"h-3 w-3 mr-1"}),"Configure"]})]})]}),(0,t.jsxs)(_.rI,{children:[(0,t.jsx)(_.ty,{asChild:!0,children:(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",disabled:m,children:(0,t.jsx)(W.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(_.SQ,{align:"end",className:"w-48",children:[o&&(0,t.jsxs)(_._2,{onClick:L,children:[(0,t.jsx)(B.A,{className:"h-4 w-4 mr-2"}),"Configure Section"]}),(0,t.jsx)(_._2,{onClick:E,children:s.isVisible?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"Hide Section"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Show Section"]})}),(0,t.jsxs)(_._2,{onClick:()=>{n(s.id)},children:[(0,t.jsx)(Y.A,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),(0,t.jsx)(_.mB,{}),(0,t.jsxs)(_._2,{onClick:()=>{confirm('Are you sure you want to delete "'.concat(s.title,'"?'))&&l(s.id)},className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Delete Section"]})]})]})]})})})}var G=a(82714),Q=a(90088);let K=0,X=[],ee=[],es=()=>{X.forEach(e=>e(ee))},ea=e=>{let{title:s,description:a,variant:t="default",duration:i=4e3}=e,l=(++K).toString();return ee=[...ee,{id:l,title:s,description:a,variant:t,duration:i,isVisible:!0}],es(),setTimeout(()=>{ee=ee.filter(e=>e.id!==l),es()},i),l};var et=a(71539),ei=a(50430),el=a(32919),en=a(40646),er=a(33786),ec=a(66516);function ed(e){let{isOpen:s,onClose:a,children:i}=e;return s?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50",onClick:a}),(0,t.jsx)("div",{className:"relative bg-white rounded-lg shadow-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:i})]}):null}function eo(e){let{variant:s,children:a}=e;return(0,t.jsx)("div",{className:(0,N.cn)("p-4 rounded-lg border","destructive"===s?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"),children:a})}function em(){return(0,t.jsx)("div",{className:"h-px bg-gray-200 my-4"})}function ex(e){let{campaign:s,isOpen:a,onClose:l,onPublishSuccess:n,className:c}=e,[d,o]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[p,g]=(0,i.useState)(""),[j,b]=(0,i.useState)([]),[w,k]=(0,i.useState)("url"),[S,A]=(0,i.useState)({isPublished:!1,isActive:!1,canActivate:!1}),[E,L]=(0,i.useState)(!1),[P,F]=(0,i.useState)(!0),[T,q]=(0,i.useState)({available:!0,checking:!1});(0,i.useEffect)(()=>{a&&s&&(g(""),h(!1),F(!0),b([]),q({available:!0,checking:!1}),"published"===s.status&&s.published_url&&(g(s.published_url),h(!0)))},[a,s]),(0,i.useEffect)(()=>{(async()=>{if(a&&s)try{let e=await (0,r.TF)(s.id);e.success&&e.data&&(e.data.isValid?b([]):b(e.data.errors))}catch(e){console.error("Error validating campaign:",e),b(["Failed to validate campaign"])}})()},[a,s]),(0,i.useEffect)(()=>{(async()=>{if(a&&s)try{let e=await (0,r.t9)(s.id);e.success&&e.data&&A(e.data)}catch(e){console.error("Error loading activation status:",e)}})()},[a,s]),(0,i.useEffect)(()=>{let e=setTimeout(async()=>{if(!m||!p.trim()||p.length<3)return void q({available:!0,checking:!1});let e=p.trim().toLowerCase();if(!/^[a-z0-9-]+$/.test(e))return void q({available:!1,checking:!1,error:"URL can only contain lowercase letters, numbers, and hyphens"});q(e=>({...e,checking:!0}));try{let a=await (0,r.lT)(e,null==s?void 0:s.id);a.success&&a.data?q({available:a.data.available,suggestions:a.data.suggestions,checking:!1,error:a.data.available?void 0:"This URL is already taken"}):q({available:!1,checking:!1,error:"Unable to check URL availability"})}catch(e){console.error("Error checking URL availability:",e),q({available:!1,checking:!1,error:"Unable to check URL availability"})}},500);return()=>clearTimeout(e)},[p,m,null==s?void 0:s.id]);let z=(0,i.useMemo)(()=>(null==s?void 0:s.name)?s.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim().substring(0,50).replace(/^-+|-+$/g,""):"",[null==s?void 0:s.name]),R=m?p.trim():z,U=R&&1?"".concat(window.location.origin,"/c/").concat(R):"",J=s&&0===j.length&&(!m||T.available&&!T.checking)&&R.length>=3,D=async()=>{if(s&&J)try{o(!0);let e=m?p.trim():void 0,a=await (0,r.s2)(s.id,e);if(!a.success||!a.data)throw Error(a.error||"Failed to publish campaign");n(a.data),ea({title:"Campaign published!",description:"Your campaign is now live at ".concat(a.data.published_url),duration:5e3}),l()}catch(e){console.error("Error publishing campaign:",e),ea({title:"Publishing failed",description:e instanceof Error?e.message:"Failed to publish campaign",variant:"destructive"})}finally{o(!1)}},O=async()=>{if(s)try{o(!0);let e=await (0,r.h1)(s.id,P);if(!e.success||!e.data)throw Error(e.error||"Failed to unpublish campaign");n(e.data),ea({title:"Campaign unpublished",description:P?"Campaign unpublished (URL preserved)":"Campaign unpublished and URL cleared",duration:5e3}),l()}catch(e){console.error("Error unpublishing campaign:",e),ea({title:"Unpublish failed",description:e instanceof Error?e.message:"Failed to unpublish campaign",variant:"destructive"})}finally{o(!1)}},$=async()=>{if(s&&S.isPublished)try{L(!0);let e=S.isActive?await (0,r.JU)(s.id):await (0,r.Ys)(s.id);if(!e.success||!e.data)throw Error(e.error||"Failed to toggle campaign activation");A(e=>({...e,isActive:!e.isActive})),n(e.data),ea({title:S.isActive?"Campaign deactivated":"Campaign activated",description:S.isActive?"Your campaign is no longer publicly accessible":"Your campaign is now live and accessible to visitors",duration:5e3})}catch(e){console.error("Error toggling activation:",e),ea({title:"Activation toggle failed",description:e instanceof Error?e.message:"Failed to toggle activation",variant:"destructive"})}finally{L(!1)}},_=async()=>{if(U)try{await navigator.clipboard.writeText(U),ea({title:"URL copied!",description:"The campaign URL has been copied to your clipboard"})}catch(e){console.error("Error copying URL:",e),ea({title:"Copy failed",description:"Unable to copy URL to clipboard",variant:"destructive"})}},V=(null==s?void 0:s.status)==="published";return s?(0,t.jsx)(ed,{isOpen:a,onClose:l,children:(0,t.jsxs)("div",{className:(0,N.cn)("p-6",c),children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:V?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.A,{className:"h-5 w-5 text-green-600"}),"Manage Published Campaign"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(et.A,{className:"h-5 w-5 text-blue-600"}),"Publish Campaign"]})}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:V?"Your campaign is currently live. You can update the URL or unpublish it.":"Make your campaign public and generate a unique URL for sharing."})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[j.length>0&&(0,t.jsx)(eo,{variant:"destructive",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,t.jsx)(I.A,{className:"h-4 w-4"}),"Cannot publish campaign:"]}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:j.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[V?(0,t.jsx)(ei.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(el.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"font-medium",children:s.name})]}),(0,t.jsx)(C.E,{variant:V?"default":"secondary",className:V?"bg-green-100 text-green-800":"",children:V?"Published":"Draft"})]}),(0,t.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>{if(!s)return;let e="/campaigns/".concat(s.id,"/preview");window.open(e,"_blank","noopener,noreferrer")},className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),"Preview"]})]}),(0,t.jsx)(em,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(G.J,{htmlFor:"custom-url-toggle",className:"flex items-center gap-2",children:[(0,t.jsx)(B.A,{className:"h-4 w-4"}),"Custom URL"]}),(0,t.jsx)(Q.d,{id:"custom-url-toggle",checked:m,onCheckedChange:h})]}),m?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(G.J,{htmlFor:"custom-url",children:"Campaign URL"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("div",{className:"flex items-center px-3 border border-r-0 border-gray-300 bg-gray-50 rounded-l-md text-sm text-gray-500",children:[window.location.origin,"/c/"]}),(0,t.jsx)(u.p,{id:"custom-url",value:p,onChange:e=>g(e.target.value),placeholder:"my-campaign",className:"rounded-l-none"})]}),T.checking&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)(v.A,{className:"h-3 w-3 animate-spin"}),"Checking availability..."]}),!T.checking&&T.error&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[(0,t.jsx)(I.A,{className:"h-3 w-3"}),T.error]}),!T.checking&&T.available&&p.length>=3&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[(0,t.jsx)(en.A,{className:"h-3 w-3"}),"URL is available"]})]}),!T.available&&T.suggestions&&T.suggestions.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(G.J,{className:"text-sm text-gray-600",children:"Suggestions:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:T.suggestions.slice(0,3).map(e=>(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:()=>g(e),className:"text-xs",children:e},e))})]})]}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(G.J,{children:"Suggested URL"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-md",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsxs)("span",{className:"text-sm font-mono",children:[window.location.origin,"/c/",z||"campaign"]})]})]}),U&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(G.J,{children:"Public Campaign URL"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 border rounded-md bg-green-50 border-green-200",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"flex-1 text-sm font-mono text-green-800 truncate",children:U}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:_,className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:(0,t.jsx)(Y.A,{className:"h-3 w-3"})}),V&&(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:()=>window.open(U,"_blank"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:(0,t.jsx)(er.A,{className:"h-3 w-3"})})]})]})]})]}),V&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(em,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(G.J,{className:"text-base font-medium",children:"Unpublish Options"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(G.J,{htmlFor:"keep-url",className:"text-sm",children:"Keep URL reserved"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Preserve your URL when unpublishing so you can republish later"})]}),(0,t.jsx)(Q.d,{id:"keep-url",checked:P,onCheckedChange:F})]})]})]}),V&&S.canActivate&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(em,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(G.J,{className:"text-base font-medium",children:"Campaign Activation"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:S.isActive?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"font-medium",children:"Active"})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 text-orange-600",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,t.jsx)("span",{className:"font-medium",children:"Inactive"})]})}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:S.isActive?"Your campaign is publicly accessible":"Your campaign is not accessible to visitors"})]}),(0,t.jsxs)(x.$,{variant:S.isActive?"outline":"default",size:"sm",onClick:$,disabled:E,className:(0,N.cn)("flex items-center gap-2",S.isActive?"text-orange-600 border-orange-300 hover:bg-orange-50":"bg-green-600 hover:bg-green-700 text-white"),children:[E&&(0,t.jsx)(v.A,{className:"h-3 w-3 animate-spin"}),S.isActive?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el.A,{className:"h-3 w-3"}),"Deactivate"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ei.A,{className:"h-3 w-3"}),"Activate"]})]})]}),(0,t.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,t.jsx)(I.A,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsxs)("div",{className:"space-y-2 text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"About Campaign Activation:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Active:"})," Campaign is publicly accessible via its URL"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Inactive:"}),' Campaign URL returns "not available" message']}),(0,t.jsx)("li",{children:"• Deactivating preserves your URL and all campaign data"}),(0,t.jsx)("li",{children:"• You can reactivate anytime without losing settings"})]})]})]})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[(0,t.jsx)(x.$,{variant:"outline",onClick:l,disabled:d,children:"Cancel"}),V?(0,t.jsxs)(x.$,{variant:"destructive",onClick:O,disabled:d,className:"flex items-center gap-2",children:[d&&(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin"}),"Unpublish Campaign"]}):(0,t.jsxs)(x.$,{onClick:D,disabled:!J||d,className:"flex items-center gap-2",children:[d&&(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)(ec.A,{className:"h-4 w-4"}),"Publish Campaign"]})]})]})}):null}var eu=a(95784),eh=a(47863);function ep(e){let{section:s,isPreview:a=!1,isCollapsed:l=!1,onNameChange:n,onTypeChange:r,onPreviewToggle:o,onVisibilityToggle:m,onDelete:u,onConfigure:h,onCollapseToggle:p,className:g,dragHandleProps:j}=e,[v,b]=(0,i.useState)(!1),y=d(s.type),w=y?S[y.icon]:$.A,k=c.filter(e=>e.id!==s.type),A=async e=>{b(!0);try{r(e)}finally{b(!1)}};return(0,t.jsxs)("div",{className:(0,N.cn)("flex items-center justify-between p-3 bg-white border-b border-gray-200","hover:bg-gray-50 transition-colors group",g),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,t.jsx)("button",{...j,className:"text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(V.A,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:(0,N.cn)("flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center",(null==y?void 0:y.color)||"bg-gray-100 text-gray-600"),children:w&&(0,t.jsx)(w,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(O,{value:s.title,onSave:n,variant:"body",placeholder:"Enter section name...",className:"font-medium text-gray-900",showEditIcon:!1,showSaveStatus:!0,validation:e=>e.trim()?e.length>50?"Name must be 50 characters or less":/^[a-zA-Z][a-zA-Z0-9_]*$/.test(e.trim())?null:"Name must be a valid variable name (letters, numbers, underscores)":"Section name is required",maxLength:50,required:!0})}),(0,t.jsxs)(eu.l6,{value:s.type,onValueChange:A,disabled:v,children:[(0,t.jsx)(eu.bq,{className:"w-40 h-8 text-xs",children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[w&&(0,t.jsx)(w,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"truncate",children:(null==y?void 0:y.name)||s.type})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:s.type,children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[w&&(0,t.jsx)(w,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:(null==y?void 0:y.name)||s.type}),(0,t.jsx)(C.E,{variant:"secondary",className:"ml-2 text-xs",children:"Current"})]})}),k.map(e=>{let s=S[e.icon];return(0,t.jsx)(eu.eb,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(s,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:e.name}),(0,t.jsx)(C.E,{variant:"outline",className:(0,N.cn)("ml-2 text-xs","input"===e.category&&"border-blue-200 text-blue-700","content"===e.category&&"border-green-200 text-green-700","logic"===e.category&&"border-purple-200 text-purple-700","output"===e.category&&"border-orange-200 text-orange-700"),children:e.category})]})},e.id)})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsxs)(C.E,{variant:"outline",className:"text-xs font-mono",children:["#",s.order]}),(0,t.jsx)(x.$,{variant:a?"default":"ghost",size:"sm",onClick:o,className:"h-7 px-2 text-xs",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-3 w-3 mr-1"}),"Preview"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(B.A,{className:"h-3 w-3 mr-1"}),"Edit"]})}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:m,className:(0,N.cn)("h-7 px-2 text-xs",!s.isVisible&&"text-orange-600 bg-orange-50 hover:bg-orange-100"),children:s.isVisible?(0,t.jsx)(f.A,{className:"h-3 w-3"}):(0,t.jsx)(M.A,{className:"h-3 w-3"})}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:p,className:"h-7 px-2 text-xs",children:l?(0,t.jsx)(L.A,{className:"h-3 w-3"}):(0,t.jsx)(eh.A,{className:"h-3 w-3"})}),(0,t.jsxs)(_.rI,{children:[(0,t.jsx)(_.ty,{asChild:!0,children:(0,t.jsx)(x.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(W.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(_.SQ,{align:"end",className:"w-48",children:[(0,t.jsxs)(_._2,{onClick:h,children:[(0,t.jsx)(B.A,{className:"h-4 w-4 mr-2"}),"Configure Section"]}),(0,t.jsx)(_._2,{onClick:m,children:s.isVisible?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"Hide Section"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Show Section"]})}),(0,t.jsxs)(_._2,{onClick:u,className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"Delete Section"]})]})]})]})]})}function eg(e){let{section:s,isQuestion:a=!1,isRequired:i=!1,buttonLabel:l="Next",onRequiredChange:n,onButtonLabelChange:r,className:c,showButtonPreview:o=!0}=e,m=d(s.type),u=(null==m?void 0:m.category)==="input"||["multiple-choice","text-input","rating-scale","email-capture","contact-form"].includes(s.type);return u||o?(0,t.jsxs)("div",{className:(0,N.cn)("flex items-center justify-between p-3 bg-gray-50 border-t border-gray-200","rounded-b-lg",c),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[u&&n&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"required-".concat(s.id),checked:i,onCheckedChange:n,className:"data-[state=checked]:bg-red-500"}),(0,t.jsx)(G.J,{htmlFor:"required-".concat(s.id),className:"text-sm font-medium cursor-pointer",children:"Required"}),i&&(0,t.jsxs)(C.E,{variant:"outline",className:"text-xs text-red-600 border-red-200",children:[(0,t.jsx)(I.A,{className:"h-3 w-3 mr-1"}),"Required"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[(0,t.jsx)("span",{className:"font-medium",children:(null==m?void 0:m.name)||s.type}),(null==m?void 0:m.category)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsx)(C.E,{variant:"outline",className:(0,N.cn)("text-xs","input"===m.category&&"border-blue-200 text-blue-700","content"===m.category&&"border-green-200 text-green-700","logic"===m.category&&"border-purple-200 text-purple-700","output"===m.category&&"border-orange-200 text-orange-700"),children:m.category})]})]})]}),o&&(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:"Button:"}),r?(0,t.jsx)(O,{value:l,onSave:r,variant:"caption",placeholder:"Enter button text...",className:"font-medium text-gray-700 px-2 py-1 bg-white border border-gray-200 rounded",showEditIcon:!1,showSaveStatus:!0,validation:e=>e.trim()?e.length>30?"Button label must be 30 characters or less":null:"Button label is required",maxLength:30,required:!0}):(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700 px-2 py-1 bg-white border border-gray-200 rounded",children:l})]}),(0,t.jsxs)(x.$,{size:"sm",className:"h-7 px-3 text-xs pointer-events-none",disabled:!0,children:[l,(0,t.jsx)(P.A,{className:"h-3 w-3 ml-1"})]})]})]}):null}var ej=a(87325),ev=a(28883),eb=a(19420),ef=a(15448),ey=a(69074),eN=a(93500);function ew(e){let{section:s,isPreview:a=!1,onUpdate:l,className:n}=e,[r,c]=(0,i.useState)(!1),d=s.settings||{},{content:o="",placeholder:m="Type your answer here...",inputType:x="text",minLength:h=0,maxLength:p=500,required:g=!1,buttonLabel:j="Next",helpText:v="",validation:b={}}=d,f=async e=>{c(!0);try{await l({settings:{...d,...e}})}catch(e){throw console.error("Failed to update text question settings:",e),e}finally{c(!1)}},y=async e=>{await f({content:e})},w=async e=>{await f({placeholder:e})},C=async e=>{await f({helpText:e})},k=e=>{switch(e){case"textarea":return ej.A;case"email":return ev.A;case"phone":return eb.A;case"number":return ef.A;case"date":return ey.A;default:return eN.A}};return a?(0,t.jsx)("div",{className:(0,N.cn)("p-6",n),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-2",children:[o||"Your question text here...",g&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),v&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:v})]}),(0,t.jsxs)("div",{className:"space-y-2",children:["textarea"===x?(0,t.jsx)(U.T,{placeholder:m,disabled:!0,className:"min-h-[100px] resize-none",maxLength:p}):(0,t.jsx)(u.p,{type:"text"===x?"text":x,placeholder:m,disabled:!0,maxLength:p}),p>0&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:["0 / ",p," characters"]})]}),b.pattern&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,t.jsx)("strong",{children:"Format:"})," ",b.message||"Must match required pattern"]})]})}):(0,t.jsxs)("div",{className:(0,N.cn)("p-6",n),children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Question Text ",g&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(O,{value:o,onSave:y,variant:"body",placeholder:"Enter your question text...",className:"min-h-[60px] p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,multiline:!0,maxLength:200,required:!0,validation:e=>e.trim()?e.length>200?"Question text must be 200 characters or less":null:"Question text is required"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Input Type"}),(0,t.jsxs)(eu.l6,{value:x,onValueChange:e=>f({inputType:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{let e=k(x);return(0,t.jsx)(e,{className:"h-4 w-4"})})(),(0,t.jsx)("span",{className:"capitalize",children:"textarea"===x?"Long Text":x})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"text",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eN.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Short Text"})]})}),(0,t.jsx)(eu.eb,{value:"textarea",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ej.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Long Text"})]})}),(0,t.jsx)(eu.eb,{value:"email",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ev.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Email"})]})}),(0,t.jsx)(eu.eb,{value:"phone",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eb.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Phone"})]})}),(0,t.jsx)(eu.eb,{value:"number",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ef.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Number"})]})}),(0,t.jsx)(eu.eb,{value:"date",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ey.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Date"})]})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Character Limit"}),(0,t.jsx)(u.p,{type:"number",value:p,onChange:e=>f({maxLength:parseInt(e.target.value)||0}),min:0,max:2e3,className:"w-full",disabled:r})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Placeholder Text"}),(0,t.jsx)(O,{value:m,onSave:w,variant:"body",placeholder:"Enter placeholder text...",className:"p-3 border border-gray-200 rounded-lg w-full text-gray-500",showEditIcon:!1,showSaveStatus:!0,maxLength:100})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Help Text (Optional)"}),(0,t.jsx)(O,{value:v,onSave:C,variant:"body",placeholder:"Add helpful instructions for users...",className:"p-3 border border-gray-200 rounded-lg w-full text-gray-600",showEditIcon:!1,showSaveStatus:!0,maxLength:200,multiline:!0})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"required",checked:g,onCheckedChange:e=>f({required:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"required",className:"text-sm font-medium cursor-pointer",children:"Required field"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Min Length"}),(0,t.jsx)(u.p,{type:"number",value:h,onChange:e=>f({minLength:parseInt(e.target.value)||0}),min:0,max:p,disabled:r})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Validation Pattern (Regex)"}),(0,t.jsx)(u.p,{type:"text",value:b.pattern||"",onChange:e=>f({validation:{...b,pattern:e.target.value}}),placeholder:"^[A-Za-z]+$",disabled:r})]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Preview"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"font-medium",children:[o||"Your question text here...",g&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),v&&(0,t.jsx)("div",{className:"text-sm text-gray-600",children:v}),"textarea"===x?(0,t.jsx)(U.T,{placeholder:m,disabled:!0,className:"bg-white"}):(0,t.jsx)(u.p,{type:x,placeholder:m,disabled:!0,className:"bg-white"})]})})]})]}),r&&(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,t.jsx)("div",{className:"w-3 h-3 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Saving..."})]})})]})}var eC=a(9428),ek=a(18979),eS=a(19145),eA=a(84616);function eE(e){let{option:s,onUpdate:a,onDelete:i,isPreview:l=!1,selectionType:n="single"}=e,{attributes:r,listeners:c,setNodeRef:d,transform:o,transition:m,isDragging:u}=(0,T.gl)({id:s.id}),h={transform:q.Ks.Transform.toString(o),transition:m};return l?(0,t.jsxs)("label",{className:(0,N.cn)("flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",u&&"opacity-50"),children:["single"===n?(0,t.jsx)("input",{type:"radio",name:"preview-options",className:"h-4 w-4"}):(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1",children:s.text||"Option ".concat(s.order)})]}):(0,t.jsxs)("div",{ref:d,style:h,className:(0,N.cn)("flex items-center space-x-3 p-3 border border-gray-200 rounded-lg bg-white",u&&"opacity-50 shadow-lg"),children:[(0,t.jsx)("div",{...r,...c,className:"cursor-grab hover:cursor-grabbing",children:(0,t.jsx)(V.A,{className:"h-4 w-4 text-gray-400"})}),(0,t.jsx)("div",{className:"flex-shrink-0",children:"single"===n?(0,t.jsx)(eC.A,{className:"h-4 w-4 text-gray-400"}):(0,t.jsx)(ek.A,{className:"h-4 w-4 text-gray-400"})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(O,{value:s.text,onSave:e=>a(s.id,e),variant:"body",placeholder:"Option ".concat(s.order),className:"w-full",showEditIcon:!1,showSaveStatus:!1,maxLength:100})}),(0,t.jsx)(x.$,{variant:"ghost",size:"sm",onClick:()=>i(s.id),className:"text-gray-400 hover:text-red-500 p-1",children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})]})}function eL(e){let{section:s,isPreview:a=!1,onUpdate:l,className:n}=e,[r,c]=(0,i.useState)(!1),d=s.settings||{},{content:o="",options:m=[{id:"1",text:"Option 1",order:1},{id:"2",text:"Option 2",order:2},{id:"3",text:"Option 3",order:3}],selectionType:h="single",minSelections:p=1,maxSelections:g=1,required:j=!1,buttonLabel:v="Next",helpText:b="",randomizeOrder:f=!1,allowOther:y=!1,otherLabel:w="Other"}=d,C=(0,k.FR)((0,k.MS)(k.AN),(0,k.MS)(k.uN,{coordinateGetter:T.JR})),S=async e=>{c(!0);try{await l({settings:{...d,...e}})}catch(e){throw console.error("Failed to update multiple choice settings:",e),e}finally{c(!1)}},A=async e=>{await S({content:e})},E=async e=>{await S({helpText:e})},L=(e,s)=>{S({options:m.map(a=>a.id===e?{...a,text:s}:a)})},P=e=>{if(m.length<=2)return void alert("You must have at least 2 options");S({options:m.filter(s=>s.id!==e).map((e,s)=>({...e,order:s+1}))})},F=[...m].sort((e,s)=>e.order-s.order);return a?(0,t.jsx)("div",{className:(0,N.cn)("p-6",n),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-2",children:[o||"Your question text here...",j&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),b&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:b}),"multiple"===h&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Select ",p===g?"exactly ".concat(p):"".concat(p,"-").concat(g)," option",1!==g?"s":""]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(f?[...F].sort(()=>Math.random()-.5):F).map(e=>(0,t.jsx)(eE,{option:e,onUpdate:L,onDelete:P,isPreview:!0,selectionType:h},e.id)),y&&(0,t.jsxs)("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:["single"===h?(0,t.jsx)("input",{type:"radio",name:"preview-options",className:"h-4 w-4"}):(0,t.jsx)("input",{type:"checkbox",className:"h-4 w-4"}),(0,t.jsx)("span",{className:"flex-1",children:w}),(0,t.jsx)(u.p,{placeholder:"Please specify...",className:"w-32",disabled:!0})]})]})]})}):(0,t.jsxs)("div",{className:(0,N.cn)("p-6",n),children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Question Text ",j&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(O,{value:o,onSave:A,variant:"body",placeholder:"Enter your question text...",className:"min-h-[60px] p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,multiline:!0,maxLength:200,required:!0,validation:e=>e.trim()?e.length>200?"Question text must be 200 characters or less":null:"Question text is required"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Selection Type"}),(0,t.jsxs)(eu.l6,{value:h,onValueChange:e=>{let s={selectionType:e};"single"===e?s.maxSelections=1:s.maxSelections=m.length,s.minSelections=1,S(s)},disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["single"===h?(0,t.jsx)(eC.A,{className:"h-4 w-4"}):(0,t.jsx)(eS.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"capitalize",children:[h," Choice"]})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"single",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eC.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Single Choice"})]})}),(0,t.jsx)(eu.eb,{value:"multiple",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Multiple Choice"})]})})]})]})]}),"multiple"===h&&(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Selection Limits"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(u.p,{type:"number",value:p,onChange:e=>S({minSelections:parseInt(e.target.value)||1}),min:1,max:g,placeholder:"Min",className:"w-20",disabled:r}),(0,t.jsx)("span",{className:"self-center text-gray-500",children:"to"}),(0,t.jsx)(u.p,{type:"number",value:g,onChange:e=>S({maxSelections:parseInt(e.target.value)||1}),min:p,max:m.length,placeholder:"Max",className:"w-20",disabled:r})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)(G.J,{className:"text-sm font-medium text-gray-700",children:["Answer Options (",m.length,")"]}),(0,t.jsxs)(x.$,{onClick:()=>{let e={id:"option-".concat(Date.now()),text:"",order:m.length+1};S({options:[...m,e]})},size:"sm",variant:"outline",disabled:r||m.length>=10,children:[(0,t.jsx)(eA.A,{className:"h-4 w-4 mr-1"}),"Add Option"]})]}),(0,t.jsx)(k.Mp,{sensors:C,collisionDetection:k.fp,onDragEnd:e=>{let{active:s,over:a}=e;if(s.id!==a.id){let e=m.findIndex(e=>e.id===s.id),t=m.findIndex(e=>e.id===a.id);S({options:(0,T.be)(m,e,t).map((e,s)=>({...e,order:s+1}))})}},children:(0,t.jsx)(T.gB,{items:m.map(e=>e.id),strategy:T._G,children:(0,t.jsx)("div",{className:"space-y-2",children:F.map(e=>(0,t.jsx)(eE,{option:e,onUpdate:L,onDelete:P,selectionType:h},e.id))})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"required",checked:j,onCheckedChange:e=>S({required:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"required",className:"text-sm font-medium cursor-pointer",children:"Required field"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"randomize",checked:f,onCheckedChange:e=>S({randomizeOrder:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"randomize",className:"text-sm font-medium cursor-pointer",children:"Randomize option order"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"allowOther",checked:y,onCheckedChange:e=>S({allowOther:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"allowOther",className:"text-sm font-medium cursor-pointer",children:'Allow "Other" option'})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Help Text (Optional)"}),(0,t.jsx)(O,{value:b,onSave:E,variant:"body",placeholder:"Add helpful instructions for users...",className:"p-3 border border-gray-200 rounded-lg w-full text-gray-600",showEditIcon:!1,showSaveStatus:!0,maxLength:200,multiline:!0})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Preview"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsx)(eL,{section:s,isPreview:!0,onUpdate:l})})]})]}),r&&(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,t.jsx)("div",{className:"w-3 h-3 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Saving..."})]})})]})}var eP=a(54073);function eF(e){let{className:s,defaultValue:a,value:l,min:n=0,max:r=100,...c}=e,d=i.useMemo(()=>Array.isArray(l)?l:Array.isArray(a)?a:[n,r],[l,a,n,r]);return(0,t.jsxs)(eP.bL,{"data-slot":"slider",defaultValue:a,value:l,min:n,max:r,className:(0,N.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...c,children:[(0,t.jsx)(eP.CC,{"data-slot":"slider-track",className:(0,N.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(eP.Q6,{"data-slot":"slider-range",className:(0,N.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,s)=>(0,t.jsx)(eP.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}var eT=a(38564),eq=a(51976),ez=a(70333),eR=a(99424),eU=a(16785);function eI(e){let{section:s,isPreview:a=!1,onUpdate:l,className:n}=e,[r,c]=(0,i.useState)(!1),[d,o]=(0,i.useState)([]),m=s.settings||{},{content:x="",scaleType:h="numbers",minValue:p=1,maxValue:g=5,step:j=1,showLabels:v=!0,minLabel:b="Poor",maxLabel:f="Excellent",centerLabel:y="",required:w=!1,buttonLabel:C="Next",helpText:k="",defaultValue:S,showNumbers:A=!0}=m;(0,i.useState)(()=>{void 0!==S&&o([S])});let E=async e=>{c(!0);try{await l({settings:{...m,...e}})}catch(e){throw console.error("Failed to update rating scale settings:",e),e}finally{c(!1)}},L=async e=>{await E({content:e})},P=async e=>{await E({helpText:e})},F=async e=>{await E({minLabel:e})},T=async e=>{await E({maxLabel:e})},q=async e=>{await E({centerLabel:e})},z=e=>{switch(e){case"stars":return eT.A;case"hearts":return eq.A;case"thumbs":return ez.A;case"smileys":return eR.A;case"custom":return eU.A;default:return et.A}},R=[{label:"1-3 Scale",min:1,max:3},{label:"1-5 Scale",min:1,max:5},{label:"1-7 Scale",min:1,max:7},{label:"1-10 Scale",min:1,max:10},{label:"0-10 Scale",min:0,max:10}];return a?(0,t.jsx)("div",{className:(0,N.cn)("p-6",n),children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-2",children:[x||"Your question text here...",w&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),k&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:k})]}),v&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,t.jsx)("span",{children:b}),y&&g-p>=4&&(0,t.jsx)("span",{children:y}),(0,t.jsx)("span",{children:f})]}),g-p<=7?(0,t.jsx)("div",{className:"flex justify-between items-center",children:function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];for(let i=p;i<=g;i+=j){let l=e===i,n=s&&d[0]>=i;a.push((0,t.jsxs)("div",{className:(0,N.cn)("flex flex-col items-center space-y-2 p-2 rounded-lg transition-all cursor-pointer",s&&"hover:bg-gray-100",l&&"bg-blue-50 border-2 border-blue-300",!l&&"border-2 border-transparent"),onClick:s?()=>o([i]):void 0,children:[(0,t.jsxs)("div",{className:(0,N.cn)("flex items-center justify-center w-8 h-8 rounded-full transition-colors",l||n?"text-blue-600":"text-gray-400"),children:["numbers"===h&&(0,t.jsx)("span",{className:"text-lg font-medium",children:i}),"stars"===h&&(0,t.jsx)(eT.A,{className:(0,N.cn)("h-6 w-6",(l||n)&&"fill-current")}),"hearts"===h&&(0,t.jsx)(eq.A,{className:(0,N.cn)("h-6 w-6",(l||n)&&"fill-current")}),"thumbs"===h&&(0,t.jsx)(ez.A,{className:(0,N.cn)("h-6 w-6",(l||n)&&"fill-current")}),"smileys"===h&&(0,t.jsx)(eR.A,{className:(0,N.cn)("h-6 w-6",(l||n)&&"fill-current")}),"custom"===h&&(0,t.jsx)("div",{className:(0,N.cn)("w-6 h-6 rounded-full border-2",l||n?"bg-blue-600 border-blue-600":"border-gray-300")})]}),A&&"numbers"!==h&&(0,t.jsx)("span",{className:"text-xs text-gray-500",children:i})]},i))}return a}(d[0],!0)}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(eF,{value:d.length>0?d:S?[S]:[p],onValueChange:o,min:p,max:g,step:j,className:"w-full",disabled:!a}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("span",{className:"text-lg font-medium text-blue-600",children:d[0]||S||p})})]}),d.length>0&&(0,t.jsx)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:["Selected: ",(0,t.jsx)("span",{className:"font-medium",children:d[0]})]})})]})}):(0,t.jsxs)("div",{className:(0,N.cn)("p-6",n),children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Question Text ",w&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(O,{value:x,onSave:L,variant:"body",placeholder:"Enter your question text...",className:"min-h-[60px] p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,multiline:!0,maxLength:200,required:!0,validation:e=>e.trim()?e.length>200?"Question text must be 200 characters or less":null:"Question text is required"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Scale Type"}),(0,t.jsxs)(eu.l6,{value:h,onValueChange:e=>E({scaleType:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{let e=z(h);return(0,t.jsx)(e,{className:"h-4 w-4"})})(),(0,t.jsx)("span",{className:"capitalize",children:h})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"numbers",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(et.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Numbers"})]})}),(0,t.jsx)(eu.eb,{value:"stars",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eT.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Stars"})]})}),(0,t.jsx)(eu.eb,{value:"hearts",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eq.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Hearts"})]})}),(0,t.jsx)(eu.eb,{value:"thumbs",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ez.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Thumbs Up"})]})}),(0,t.jsx)(eu.eb,{value:"smileys",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eR.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Smileys"})]})}),(0,t.jsx)(eu.eb,{value:"custom",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eU.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Custom"})]})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Scale Preset"}),(0,t.jsxs)(eu.l6,{value:"".concat(p,"-").concat(g),onValueChange:e=>{let s=R.find(s=>"".concat(s.min,"-").concat(s.max)===e);s&&E({minValue:s.min,maxValue:s.max,defaultValue:void 0})},disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{})}),(0,t.jsx)(eu.gC,{children:R.map(e=>(0,t.jsx)(eu.eb,{value:"".concat(e.min,"-").concat(e.max),children:e.label},"".concat(e.min,"-").concat(e.max)))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Min Value"}),(0,t.jsx)(u.p,{type:"number",value:p,onChange:e=>{let s=parseInt(e.target.value);!isNaN(s)&&s<g&&E({minValue:s})},min:0,max:g-1,disabled:r})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max Value"}),(0,t.jsx)(u.p,{type:"number",value:g,onChange:e=>{let s=parseInt(e.target.value);!isNaN(s)&&s>p&&E({maxValue:s})},min:p+1,max:20,disabled:r})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Step"}),(0,t.jsx)(u.p,{type:"number",value:j,onChange:e=>{E({step:parseInt(e.target.value)||1})},min:1,max:g-p,disabled:r})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"showLabels",checked:v,onCheckedChange:e=>E({showLabels:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"showLabels",className:"text-sm font-medium cursor-pointer",children:"Show scale labels"})]}),v&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Min Label"}),(0,t.jsx)(O,{value:b,onSave:F,variant:"body",placeholder:"e.g., Poor, Disagree",className:"p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,maxLength:50})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Max Label"}),(0,t.jsx)(O,{value:f,onSave:T,variant:"body",placeholder:"e.g., Excellent, Agree",className:"p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,maxLength:50})]})]}),v&&g-p>=4&&(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Center Label (Optional)"}),(0,t.jsx)(O,{value:y,onSave:q,variant:"body",placeholder:"e.g., Neutral, Okay",className:"p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,maxLength:50})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"required",checked:w,onCheckedChange:e=>E({required:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"required",className:"text-sm font-medium cursor-pointer",children:"Required field"})]}),"numbers"!==h&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"showNumbers",checked:A,onCheckedChange:e=>E({showNumbers:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"showNumbers",className:"text-sm font-medium cursor-pointer",children:"Show numbers below icons"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Default Value (Optional)"}),(0,t.jsx)(u.p,{type:"number",value:S||"",onChange:e=>{E({defaultValue:e.target.value?parseInt(e.target.value):void 0})},min:p,max:g,placeholder:"No default",disabled:r})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Help Text (Optional)"}),(0,t.jsx)(O,{value:k,onSave:P,variant:"body",placeholder:"Add helpful instructions for users...",className:"p-3 border border-gray-200 rounded-lg w-full text-gray-600",showEditIcon:!1,showSaveStatus:!0,maxLength:200,multiline:!0})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Preview"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsx)(eI,{section:s,isPreview:!0,onUpdate:l})})]})]}),r&&(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,t.jsx)("div",{className:"w-3 h-3 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Saving..."})]})})]})}var eJ=a(95139),eD=a(71007),eO=a(17580),e$=a(88633);let e_=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),eV=e=>{let s=e.replace(/[^\d+]/g,"");return/^\+[1-9]\d{6,14}$/.test(s)||/^(\+1)?[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(s)},eM=e=>/^[a-zA-Z\s\-'.]+$/.test(e.trim())&&e.trim().length>=2,eB=(e,s)=>{var a,t,i;let l={};return s.enabledFields.name&&s.requiredFields.name&&((null==(a=e.name)?void 0:a.trim())?e.name.trim().length<2?l.name="Name must be at least 2 characters":e.name.trim().length>100?l.name="Name must be less than 100 characters":eM(e.name)||(l.name="Please enter a valid name (letters, spaces, hyphens, and apostrophes only)"):l.name="Name is required"),s.enabledFields.email&&s.requiredFields.email&&((null==(t=e.email)?void 0:t.trim())?e.email.trim().length>254?l.email="Email address is too long":e_(e.email.trim())||(l.email="Please enter a valid email address"):l.email="Email is required"),s.enabledFields.phone&&s.requiredFields.phone&&((null==(i=e.phone)?void 0:i.trim())?eV(e.phone)||(l.phone="Please enter a valid phone number (e.g., +1 555-123-4567 or 555-123-4567)"):l.phone="Phone number is required"),s.gdprConsent&&!e.gdprConsent&&(l.gdprConsent="You must accept the privacy policy to continue"),l};function eW(e){let{section:s,isPreview:a=!1,onUpdate:l,className:n,campaignId:c,onLeadCaptured:d}=e,o=s.settings,[m,h]=(0,i.useState)({}),[g,j]=(0,i.useState)({}),{markCaptureCompleted:b,setCaptureRequired:f}=(0,e$.i$)(),{submitCapture:y,isSubmitting:w,isSubmitted:k,submitError:S,resetSubmission:A}=function(e){let{campaignId:s,onSuccess:a,onError:t}=e,[l,n]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),[o,m]=(0,i.useState)(!1);return{submitCapture:async e=>{n(!0),d(null);try{let i={user_agent:window.navigator.userAgent,referrer:document.referrer||void 0,utm_source:new URLSearchParams(window.location.search).get("utm_source")||void 0,utm_medium:new URLSearchParams(window.location.search).get("utm_medium")||void 0,utm_campaign:new URLSearchParams(window.location.search).get("utm_campaign")||void 0,utm_term:new URLSearchParams(window.location.search).get("utm_term")||void 0,utm_content:new URLSearchParams(window.location.search).get("utm_content")||void 0},l=await (0,r.LE)(s,e,i);if(l.success&&l.data)return m(!0),null==a||a(l.data),!0;{let e=l.error||"Failed to submit form";return d(e),null==t||t(e),!1}}catch(s){let e=s instanceof Error?s.message:"An unexpected error occurred";return d(e),null==t||t(e),!1}finally{n(!1)}},isSubmitting:l,isSubmitted:o,submitError:c,resetSubmission:()=>{m(!1),d(null)}}}({campaignId:c||"",onSuccess:e=>{console.log("Lead captured successfully:",e.id),b(e.id),null==d||d(e.id)},onError:e=>{console.error("Failed to capture lead:",e)}});(0,i.useEffect)(()=>{a&&f(!0)},[a,f]);let E=(0,R.v)(o.title||"Get Your Results",{onSave:async e=>{await l({settings:{...o,title:e}})}}),L=(0,R.v)(o.subheading||"Enter your information to unlock your personalized results",{onSave:async e=>{await l({settings:{...o,subheading:e}})}}),P=(0,R.v)(o.submitButtonText||"Get My Results",{onSave:async e=>{await l({settings:{...o,submitButtonText:e}})}}),F=async e=>{e.preventDefault();let s=eB(m,o);if(Object.keys(s).length>0)return void j(s);j({}),await y(m)},T=(e,s)=>{h(a=>({...a,[e]:s})),g[e]&&j(s=>{let a={...s};return delete a[e],a})},q=async(e,s)=>{await l({settings:{...o,...s}})},U=(e,s,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[i.createElement(s,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:a})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 ml-auto",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"enable-".concat(e),checked:o.enabledFields[e],onCheckedChange:s=>{q(e,{enabledFields:{...o.enabledFields,[e]:s}})}}),(0,t.jsx)(G.J,{htmlFor:"enable-".concat(e),className:"text-xs text-gray-600",children:"Enabled"})]}),o.enabledFields[e]&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"require-".concat(e),checked:o.requiredFields[e],onCheckedChange:s=>{q(e,{requiredFields:{...o.requiredFields,[e]:s}})}}),(0,t.jsx)(G.J,{htmlFor:"require-".concat(e),className:"text-xs text-gray-600",children:"Required"})]})]})]}),J=(e,s)=>{if(!o.enabledFields[e])return null;let a=g[e];return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(G.J,{htmlFor:e,className:"text-sm font-medium",children:[o.fieldLabels[e],o.requiredFields[e]&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:i.createElement(s,{className:"h-4 w-4 text-gray-400"})}),(0,t.jsx)(u.p,{id:e,type:"email"===e?"email":"phone"===e?"tel":"text",placeholder:o.fieldPlaceholders[e],value:m[e]||"",onChange:s=>T(e,s.target.value),className:(0,N.cn)("pl-10",a&&"border-red-500 focus:border-red-500"),required:o.requiredFields[e]})]}),a&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[(0,t.jsx)(I.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:a})]})]})};return a?(0,t.jsxs)(z.Zp,{className:(0,N.cn)("w-full max-w-md mx-auto",n),children:[(0,t.jsxs)(z.aR,{className:"text-center space-y-2",children:[(0,t.jsx)(z.ZB,{className:"text-xl font-bold",children:o.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:o.subheading})]}),(0,t.jsx)(z.Wu,{children:k?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-green-900",children:"Thank you!"}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:"Your information has been saved."})]})]}):(0,t.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[J("name",eD.A),J("email",ev.A),J("phone",eb.A),(o.gdprConsent||o.marketingConsent)&&(0,t.jsxs)("div",{className:"space-y-3 pt-2",children:[o.gdprConsent&&(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"gdpr-consent",checked:m.gdprConsent||!1,onCheckedChange:e=>T("gdprConsent",e)}),(0,t.jsx)(G.J,{htmlFor:"gdpr-consent",className:"text-xs text-gray-600 leading-relaxed",children:"I agree to the privacy policy and terms of service *"})]}),o.marketingConsent&&(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"marketing-consent",checked:m.marketingConsent||!1,onCheckedChange:e=>T("marketingConsent",e)}),(0,t.jsx)(G.J,{htmlFor:"marketing-consent",className:"text-xs text-gray-600 leading-relaxed",children:"I would like to receive marketing emails and updates"})]})]}),g.gdprConsent&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[(0,t.jsx)(I.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:g.gdprConsent})]}),S&&(0,t.jsxs)("div",{className:"flex items-center space-x-1 text-red-600 text-sm p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)(I.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:S})]}),(0,t.jsxs)(x.$,{type:"submit",className:"w-full",disabled:w,children:[w&&(0,t.jsx)(v.A,{className:"h-4 w-4 animate-spin mr-2"}),o.submitButtonText]})]})})]}):(0,t.jsxs)("div",{className:(0,N.cn)("space-y-6",n),children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eO.A,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)(C.E,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Lead Capture"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700",children:"Title"}),(0,t.jsx)(O,{value:E.value,onSave:E.save,placeholder:"Enter section title...",className:"text-lg font-semibold"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700",children:"Subheading"}),(0,t.jsx)(O,{value:L.value,onSave:L.save,placeholder:"Enter section subheading...",className:"text-gray-600",multiline:!0})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700",children:"Form Fields"}),(0,t.jsxs)("div",{className:"space-y-3",children:[U("name",eD.A,"Name"),U("email",ev.A,"Email"),U("phone",eb.A,"Phone")]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700",children:"Submit Button Text"}),(0,t.jsx)(O,{value:P.value,onSave:P.save,placeholder:"Get My Results",className:"font-medium"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700",children:"Consent Options"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"gdpr-consent-toggle",checked:o.gdprConsent,onCheckedChange:e=>{q("gdpr",{gdprConsent:!0===e})}}),(0,t.jsx)(G.J,{htmlFor:"gdpr-consent-toggle",className:"text-sm",children:"Require GDPR consent checkbox"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eJ.Checkbox,{id:"marketing-consent-toggle",checked:o.marketingConsent,onCheckedChange:e=>{q("marketing",{marketingConsent:!0===e})}}),(0,t.jsx)(G.J,{htmlFor:"marketing-consent-toggle",className:"text-sm",children:"Show marketing consent checkbox"})]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Preview"}),(0,t.jsx)("div",{className:"scale-90 origin-top-left",children:(0,t.jsx)(eW,{section:s,isPreview:!0,onUpdate:l})})]})]})}var eY=a(32417),eZ=a(27213),eH=a(67733),eG=a(88702),eQ=a(29869);function eK(e){let{section:s,isPreview:a=!1,onUpdate:l,className:n}=e,[r,c]=(0,i.useState)(!1),[d,o]=(0,i.useState)(!1),m=(0,i.useRef)(null),h=s.settings||{},{title:p="",content:j="",imageUrl:v="",imageAlt:b="",textAlign:f="left",imagePosition:y="top",layout:w="text-only",backgroundColor:C="",textColor:k="",titleSize:S="large",showTitle:A=!0,buttonLabel:E="Continue",buttonUrl:L="",showButton:P=!1}=h,F=async e=>{c(!0);try{await l({settings:{...h,...e}})}catch(e){throw console.error("Failed to update info section settings:",e),e}finally{c(!1)}},T=async e=>{await F({title:e})},q=async e=>{await F({content:e})},z=async e=>{await F({imageAlt:e})},R=async e=>{await F({buttonLabel:e})},U=async e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){if(!a.type.startsWith("image/"))return void alert("Please select an image file");if(a.size>5242880)return void alert("Image must be smaller than 5MB");o(!0);try{let e=new FileReader;e.onload=async e=>{var s;let t=null==(s=e.target)?void 0:s.result;await F({imageUrl:t,imageAlt:b||a.name.replace(/\.[^/.]+$/,"")})},e.readAsDataURL(a)}catch(e){console.error("Failed to upload image:",e),alert("Failed to upload image. Please try again.")}finally{o(!1)}}},I=async()=>{await F({imageUrl:"",imageAlt:""})},J=()=>{switch(S){case"small":return"text-lg";case"medium":return"text-xl";case"large":default:return"text-2xl";case"xl":return"text-3xl"}},D=()=>{switch(f){case"center":return"text-center";case"right":return"text-right";default:return"text-left"}};return a?(0,t.jsxs)("div",{className:(0,N.cn)("relative overflow-hidden",n),style:{backgroundColor:C||void 0,color:k||void 0},children:["full-background"===w&&v&&(0,t.jsx)("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(".concat(v,")")},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40"})}),(0,t.jsx)("div",{className:(0,N.cn)("relative z-10 p-6","full-background"===w&&"text-white min-h-[400px] flex flex-col justify-center"),children:"text-with-image"===w&&"left"===y?(0,t.jsxs)("div",{className:"flex items-start space-x-6",children:[v&&(0,t.jsx)("div",{className:"flex-shrink-0 w-1/3",children:(0,t.jsx)("img",{src:v,alt:b,className:"w-full h-auto rounded-lg object-cover"})}),(0,t.jsxs)("div",{className:(0,N.cn)("flex-1",D()),children:[A&&p&&(0,t.jsx)("h2",{className:(0,N.cn)("font-bold mb-4",J()),children:p}),j&&(0,t.jsx)("div",{className:"prose max-w-none",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:j})}),P&&E&&(0,t.jsx)(x.$,{className:"mt-6",disabled:!0,children:E})]})]}):"text-with-image"===w&&"right"===y?(0,t.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,t.jsxs)("div",{className:(0,N.cn)("flex-1",D()),children:[A&&p&&(0,t.jsx)("h2",{className:(0,N.cn)("font-bold mb-4",J()),children:p}),j&&(0,t.jsx)("div",{className:"prose max-w-none",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:j})}),P&&E&&(0,t.jsx)(x.$,{className:"mt-6",disabled:!0,children:E})]}),v&&(0,t.jsx)("div",{className:"flex-shrink-0 w-1/3",children:(0,t.jsx)("img",{src:v,alt:b,className:"w-full h-auto rounded-lg object-cover"})})]}):(0,t.jsxs)("div",{className:(0,N.cn)("space-y-6",D()),children:[("image-only"===w||"text-with-image"===w&&"top"===y)&&v&&(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("img",{src:v,alt:b,className:"w-full h-auto rounded-lg object-cover max-h-80"})}),"image-only"!==w&&(0,t.jsxs)("div",{children:[A&&p&&(0,t.jsx)("h2",{className:(0,N.cn)("font-bold mb-4",J()),children:p}),j&&(0,t.jsx)("div",{className:"prose max-w-none",children:(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:j})}),P&&E&&(0,t.jsx)(x.$,{className:"mt-6",disabled:!0,children:E})]})]})})]}):(0,t.jsxs)("div",{className:(0,N.cn)("p-6",n),children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Section Layout"}),(0,t.jsxs)(eu.l6,{value:w,onValueChange:e=>F({layout:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eY.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"capitalize",children:w.replace("-"," ")})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"text-only",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eN.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Text Only"})]})}),(0,t.jsx)(eu.eb,{value:"image-only",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eZ.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Image Only"})]})}),(0,t.jsx)(eu.eb,{value:"text-with-image",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eY.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Text with Image"})]})}),(0,t.jsx)(eu.eb,{value:"full-background",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eZ.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Full Background"})]})})]})]})]}),"image-only"!==w&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"showTitle",checked:A,onCheckedChange:e=>F({showTitle:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"showTitle",className:"text-sm font-medium cursor-pointer",children:"Show title"})]}),A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Title"}),(0,t.jsx)(O,{value:p,onSave:T,variant:"heading",placeholder:"Enter section title...",className:"p-3 border border-gray-200 rounded-lg w-full font-medium",showEditIcon:!1,showSaveStatus:!0,maxLength:100,required:A,validation:e=>A&&!e.trim()?"Title is required when title display is enabled":e.length>100?"Title must be 100 characters or less":null})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Title Size"}),(0,t.jsxs)(eu.l6,{value:S,onValueChange:e=>F({titleSize:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"small",children:"Small"}),(0,t.jsx)(eu.eb,{value:"medium",children:"Medium"}),(0,t.jsx)(eu.eb,{value:"large",children:"Large"}),(0,t.jsx)(eu.eb,{value:"xl",children:"Extra Large"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Text Alignment"}),(0,t.jsxs)(eu.l6,{value:f,onValueChange:e=>F({textAlign:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:["left"===f&&(0,t.jsx)(ej.A,{className:"h-4 w-4"}),"center"===f&&(0,t.jsx)(eH.A,{className:"h-4 w-4"}),"right"===f&&(0,t.jsx)(eG.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"capitalize",children:f})]})})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"left",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ej.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Left"})]})}),(0,t.jsx)(eu.eb,{value:"center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eH.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Center"})]})}),(0,t.jsx)(eu.eb,{value:"right",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eG.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Right"})]})})]})]})]})]})]})]}),"image-only"!==w&&(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Content"}),(0,t.jsx)(O,{value:j,onSave:q,variant:"body",placeholder:"Enter your content text...",className:"min-h-[120px] p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,multiline:!0,maxLength:2e3,required:!0,validation:e=>e.trim()?e.length>2e3?"Content must be 2000 characters or less":null:"Content is required"})]}),"text-only"!==w&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 block",children:"Image"}),v?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:v,alt:b,className:"w-full h-48 object-cover rounded-lg border border-gray-200"}),(0,t.jsx)(x.$,{variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:I,disabled:r,children:(0,t.jsx)(g.A,{className:"h-4 w-4"})})]}):(0,t.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer hover:border-gray-400 transition-colors",onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},children:d?(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-blue-600",children:"Uploading..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eQ.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Click to upload an image"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG up to 5MB"})]})}),(0,t.jsx)("input",{ref:m,type:"file",accept:"image/*",onChange:U,className:"hidden"}),v&&(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Image Alt Text"}),(0,t.jsx)(O,{value:b,onSave:z,variant:"body",placeholder:"Describe this image for accessibility...",className:"p-3 border border-gray-200 rounded-lg w-full text-gray-600",showEditIcon:!1,showSaveStatus:!0,maxLength:200})]}),"text-with-image"===w&&(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Image Position"}),(0,t.jsxs)(eu.l6,{value:y,onValueChange:e=>F({imagePosition:e}),disabled:r,children:[(0,t.jsx)(eu.bq,{children:(0,t.jsx)(eu.yv,{})}),(0,t.jsxs)(eu.gC,{children:[(0,t.jsx)(eu.eb,{value:"top",children:"Top"}),(0,t.jsx)(eu.eb,{value:"left",children:"Left"}),(0,t.jsx)(eu.eb,{value:"right",children:"Right"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(Q.d,{id:"showButton",checked:P,onCheckedChange:e=>F({showButton:e}),disabled:r}),(0,t.jsx)(G.J,{htmlFor:"showButton",className:"text-sm font-medium cursor-pointer",children:"Show button"})]}),P&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Button Label"}),(0,t.jsx)(O,{value:E,onSave:R,variant:"body",placeholder:"Continue",className:"p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,maxLength:50})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Button URL (Optional)"}),(0,t.jsx)(u.p,{value:L,onChange:e=>F({buttonUrl:e.target.value}),placeholder:"https://example.com",disabled:r})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 block",children:"Style Options"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Background Color"}),(0,t.jsx)(u.p,{type:"color",value:C,onChange:e=>F({backgroundColor:e.target.value}),className:"w-full h-10",disabled:r})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Text Color"}),(0,t.jsx)(u.p,{type:"color",value:k,onChange:e=>F({textColor:e.target.value}),className:"w-full h-10",disabled:r})]})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)(G.J,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Preview"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:(0,t.jsx)(eK,{section:s,isPreview:!0,onUpdate:l})})]})]}),r&&(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,t.jsx)("div",{className:"w-3 h-3 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-xs font-medium",children:"Saving..."})]})})]})}var eX=a(62132);function e0(e){let{section:s,isPreview:a=!1,onUpdate:i,className:l}=e;switch(s.type){case"info":case"text-block":case"image-block":case"hero":case"content":return(0,t.jsx)(eK,{section:s,isPreview:a,onUpdate:i,className:l});case"video":return(0,t.jsx)(e2,{section:s,isPreview:a,onUpdate:i,className:l,icon:(0,t.jsx)($.A,{className:"h-8 w-8"}),message:"Video section component coming soon"});case"divider":if(a)return(0,t.jsx)("div",{className:(0,N.cn)("py-6",l),children:(0,t.jsx)("hr",{className:"border-gray-300"})});return(0,t.jsx)(e1,{section:s,onUpdate:i,className:l});case"spacer":var n;let r=(null==(n=s.settings)?void 0:n.height)||40;if(a)return(0,t.jsx)("div",{className:(0,N.cn)("w-full",l),style:{height:"".concat(r,"px")}});return(0,t.jsx)(e4,{section:s,onUpdate:i,className:l});case"output-results":case"output-download":case"output-redirect":return(0,t.jsx)(eX.x,{section:s,isPreview:a,onUpdate:i,className:l});default:return(0,t.jsx)(e2,{section:s,isPreview:a,onUpdate:i,className:l,icon:(0,t.jsx)($.A,{className:"h-8 w-8"}),message:'Content component for "'.concat(s.type,'" not implemented yet')})}}function e2(e){var s,a;let{section:i,isPreview:l=!1,onUpdate:n,className:r,icon:c,message:d}=e;return l?(0,t.jsx)("div",{className:(0,N.cn)("p-6",r),children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"text-gray-400",children:c}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:i.title}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[i.type," section"]})]}),(null==(a=i.settings)?void 0:a.content)&&"string"==typeof i.settings.content&&(0,t.jsx)("div",{className:"text-gray-700 max-w-md mx-auto",children:i.settings.content})]})}):(0,t.jsx)("div",{className:(0,N.cn)("p-6",r),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsx)(I.A,{className:"h-5 w-5 text-yellow-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:d}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Use the section controls above to configure basic settings."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),(0,t.jsx)("textarea",{value:String((null==(s=i.settings)?void 0:s.content)||""),onChange:e=>n({settings:{...i.settings,content:e.target.value}}),placeholder:"Enter content for this section...",className:"w-full p-3 border border-gray-200 rounded-lg",rows:4})]})]})})}function e1(e){var s,a,i;let{section:l,onUpdate:n,className:r}=e,c=(null==(s=l.settings)?void 0:s.style)||"solid",d=(null==(a=l.settings)?void 0:a.color)||"#d1d5db",o=(null==(i=l.settings)?void 0:i.thickness)||1;return(0,t.jsx)("div",{className:(0,N.cn)("p-6",r),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Style"}),(0,t.jsxs)("select",{value:c,onChange:e=>n({settings:{...l.settings,style:e.target.value}}),className:"w-full p-2 border border-gray-200 rounded",children:[(0,t.jsx)("option",{value:"solid",children:"Solid"}),(0,t.jsx)("option",{value:"dashed",children:"Dashed"}),(0,t.jsx)("option",{value:"dotted",children:"Dotted"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),(0,t.jsx)("input",{type:"color",value:d,onChange:e=>n({settings:{...l.settings,color:e.target.value}}),className:"w-full h-10 border border-gray-200 rounded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thickness (px)"}),(0,t.jsx)("input",{type:"number",value:o,onChange:e=>n({settings:{...l.settings,thickness:parseInt(e.target.value)||1}}),min:1,max:10,className:"w-full p-2 border border-gray-200 rounded"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),(0,t.jsx)("hr",{style:{borderStyle:c,borderColor:d,borderWidth:"".concat(o,"px 0 0 0")}})]})]})})}function e4(e){var s;let{section:a,onUpdate:i,className:l}=e,n=(null==(s=a.settings)?void 0:s.height)||40;return(0,t.jsx)("div",{className:(0,N.cn)("p-6",l),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height (px)"}),(0,t.jsx)("input",{type:"number",value:n,onChange:e=>i({settings:{...a.settings,height:parseInt(e.target.value)||40}}),min:10,max:200,className:"w-full p-2 border border-gray-200 rounded"})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),(0,t.jsxs)("div",{className:"w-full bg-gray-100 border border-gray-200 rounded flex items-center justify-center text-xs text-gray-500",style:{height:"".concat(n,"px")},children:[n,"px spacer"]})]})]})})}function e5(e){let{section:s,isPreview:a=!1,onUpdate:i,className:l}=e;switch(s.type){case"text-input":return(0,t.jsx)(ew,{section:s,isPreview:a,onUpdate:i,className:l});case"multiple-choice":return(0,t.jsx)(eL,{section:s,isPreview:a,onUpdate:i,className:l});case"rating-scale":return(0,t.jsx)(eI,{section:s,isPreview:a,onUpdate:i,className:l});case"capture":return(0,t.jsx)(eW,{section:s,isPreview:a,onUpdate:i,className:l});case"email-capture":var n;return(0,t.jsx)(ew,{section:{...s,settings:{...s.settings,inputType:"email",content:(null==(n=s.settings)?void 0:n.content)||"Enter your email address",placeholder:"your@email.com",validation:{pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",message:"Please enter a valid email address"}}},isPreview:a,onUpdate:i,className:l});case"contact-form":return(0,t.jsxs)("div",{className:(0,N.cn)("space-y-6",l),children:[(0,t.jsx)(ew,{section:{...s,id:"".concat(s.id,"-name"),title:"Name",settings:{content:"What's your name?",placeholder:"Enter your full name",inputType:"text",required:!0,maxLength:100}},isPreview:a,onUpdate:async e=>{await i({settings:{...s.settings,nameField:e.settings}})}}),(0,t.jsx)(ew,{section:{...s,id:"".concat(s.id,"-email"),title:"Email",settings:{content:"What's your email address?",placeholder:"your@email.com",inputType:"email",required:!0,validation:{pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",message:"Please enter a valid email address"}}},isPreview:a,onUpdate:async e=>{await i({settings:{...s.settings,emailField:e.settings}})}}),(0,t.jsx)(ew,{section:{...s,id:"".concat(s.id,"-phone"),title:"Phone",settings:{content:"What's your phone number? (Optional)",placeholder:"+1 (555) 123-4567",inputType:"phone",required:!1,validation:{pattern:"^[\\+]?[1-9][\\d\\s\\-\\(\\)]{7,15}$",message:"Please enter a valid phone number"}}},isPreview:a,onUpdate:async e=>{await i({settings:{...s.settings,phoneField:e.settings}})}})]});default:return(0,t.jsx)(e0,{section:s,isPreview:a,onUpdate:i,className:l})}}function e3(e){var s,a,l;let{section:n,onUpdate:r,onDelete:c,onDuplicate:o,onConfigure:m,onTypeChange:x,className:u,isCollapsible:h=!0,initiallyCollapsed:p=!1}=e,[g,j]=(0,i.useState)(!1),[v,b]=(0,i.useState)(p),[f,y]=(0,i.useState)(!1),{attributes:w,listeners:C,setNodeRef:k,transform:S,transition:A,isDragging:E}=(0,T.gl)({id:n.id,data:{type:"campaign-section",section:n}}),L={transform:q.Ks.Transform.toString(S),transition:A},F=d(n.type),R=(null==F?void 0:F.category)==="input"||["multiple-choice","text-input","rating-scale","email-capture","contact-form"].includes(n.type),U=async e=>{if(e.trim()!==n.title){y(!0);try{await r(n.id,{title:e.trim()})}catch(e){throw e}finally{y(!1)}}},I=async e=>{if(e!==n.type){y(!0);try{let s=d(e),a={type:e,settings:(null==s?void 0:s.defaultSettings)||{}};await r(n.id,a),null==x||x(n.id,e)}catch(e){console.error("Failed to update section type:",e)}finally{y(!1)}}},J=async()=>{y(!0);try{await r(n.id,{isVisible:!n.isVisible})}catch(e){console.error("Failed to update visibility:",e)}finally{y(!1)}},D=async e=>{y(!0);try{await r(n.id,{settings:{...n.settings,required:e}})}catch(e){console.error("Failed to update required status:",e)}finally{y(!1)}},_=async e=>{y(!0);try{await r(n.id,{settings:{...n.settings,buttonLabel:e.trim()}})}catch(e){throw e}finally{y(!1)}},V=async e=>{y(!0);try{await r(n.id,{settings:{...n.settings,content:e}})}catch(e){throw e}finally{y(!1)}},M=!!(null==(s=n.settings)?void 0:s.required),B=(null==(a=n.settings)?void 0:a.buttonLabel)||"Next",W=(null==(l=n.settings)?void 0:l.content)||"";return(0,t.jsxs)(z.Zp,{ref:k,style:L,className:(0,N.cn)("transition-all duration-200 overflow-hidden",E&&"opacity-50 shadow-lg scale-105 rotate-2",!n.isVisible&&"opacity-60","hover:shadow-md",u),children:[(0,t.jsx)(ep,{section:n,isPreview:g,isCollapsed:v,onNameChange:U,onTypeChange:I,onPreviewToggle:()=>j(!g),onVisibilityToggle:J,onDelete:()=>{confirm('Are you sure you want to delete "'.concat(n.title,'"?'))&&c(n.id)},onConfigure:()=>null==m?void 0:m(n.id),onCollapseToggle:()=>h&&b(!v),dragHandleProps:{...w,...C}}),(0,t.jsx)("div",{className:(0,N.cn)("transition-all duration-200",v&&"h-0 overflow-hidden"),children:v?(0,t.jsxs)("div",{className:"p-4 text-center text-gray-500 text-sm",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mx-auto mb-2"}),"Section collapsed - click to expand"]}):["text-input","multiple-choice","rating-scale","email-capture","contact-form"].includes(n.type)?(0,t.jsx)(e5,{section:n,isPreview:g,onUpdate:e=>r(n.id,e)}):["info","text-block","image-block","hero","content","video","divider","spacer"].includes(n.type)?(0,t.jsx)(e0,{section:n,isPreview:g,onUpdate:e=>r(n.id,e)}):g?(()=>{switch(n.type){case"multiple-choice":return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4",children:[W||"Your question text here...",M&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("div",{className:"space-y-2",children:["Option 1","Option 2","Option 3"].map((e,s)=>(0,t.jsxs)("label",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"preview-".concat(n.id),className:"h-4 w-4"}),(0,t.jsx)("span",{children:e})]},s))})]});case"text-input":return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4",children:[W||"Your question text here...",M&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("input",{type:"text",placeholder:"Type your answer here...",className:"w-full p-3 border border-gray-200 rounded-lg",disabled:!0})]});case"text-block":return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"prose max-w-none",children:W||"Your content text here..."})});case"email-capture":return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium mb-4",children:[W||"Enter your email address",M&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)("input",{type:"email",placeholder:"your@email.com",className:"w-full p-3 border border-gray-200 rounded-lg",disabled:!0})]});default:return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)($.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsxs)("p",{className:"text-sm",children:["Preview for ",(null==F?void 0:F.name)||n.type]}),(0,t.jsx)("p",{className:"text-xs mt-1",children:W||"No content configured"})]})})}})():(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[R?"Question Text":"Content",M&&(0,t.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsx)(O,{value:W,onSave:V,variant:"body",placeholder:R?"Enter your question text...":"Enter your content...",className:"min-h-[60px] p-3 border border-gray-200 rounded-lg w-full",showEditIcon:!1,showSaveStatus:!0,multiline:!0,maxLength:1e3})]}),"multiple-choice"===n.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Options"}),(0,t.jsx)("div",{className:"space-y-2",children:["Option 1","Option 2","Option 3"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded-full border border-gray-300 flex items-center justify-center text-xs font-medium",children:s+1}),(0,t.jsx)("input",{type:"text",defaultValue:e,className:"flex-1 p-2 border border-gray-200 rounded text-sm",placeholder:"Option ".concat(s+1)})]},s))})]}),n.settings&&Object.keys(n.settings).length>0&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Settings:"}),(0,t.jsx)("div",{className:"space-y-1 text-xs text-gray-600",children:Object.entries(n.settings).slice(0,5).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{className:"capitalize",children:[s.replace(/([A-Z])/g," $1"),":"]}),(0,t.jsx)("span",{className:"font-medium",children:String(a)})]},s)})})]})]})})}),!v&&(0,t.jsx)(eg,{section:n,isQuestion:R,isRequired:M,buttonLabel:B,onRequiredChange:R?D:void 0,onButtonLabelChange:_,showButtonPreview:!0}),f&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-50 flex items-center justify-center z-10",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-blue-600",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Saving..."})]})})]})}var e6=a(42103);function e7(e){let{sections:s,onSectionUpdate:a,onSectionDelete:i,onSectionDuplicate:l,onSectionConfigure:n,onSectionTypeChange:r,className:c,showCollapsedSections:d=!0}=e,{isOver:o,setNodeRef:m}=(0,k.zM)({id:"campaign-canvas",data:{type:"canvas"}}),x=0===s.length,u=s.map(e=>e.id);return(0,t.jsx)("div",{ref:m,className:(0,N.cn)("h-full rounded-lg transition-all duration-200",o?"bg-blue-50 border-2 border-blue-300 border-dashed":"bg-gray-50 border-2 border-gray-200 border-dashed",x&&"flex items-center justify-center",c),children:x?(0,t.jsxs)("div",{className:"text-center p-8",children:[(0,t.jsx)("div",{className:(0,N.cn)("mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 transition-colors",o?"bg-blue-100":"bg-gray-100"),children:o?(0,t.jsx)(eA.A,{className:"h-8 w-8 text-blue-600"}):(0,t.jsx)(eY.A,{className:"h-8 w-8 text-gray-400"})}),(0,t.jsx)("h3",{className:(0,N.cn)("text-lg font-medium mb-2 transition-colors",o?"text-blue-900":"text-gray-900"),children:o?"Drop section here":"Start building your campaign"}),(0,t.jsx)("p",{className:(0,N.cn)("text-sm max-w-md mx-auto transition-colors",o?"text-blue-700":"text-gray-500"),children:o?"Release to add this section to your campaign":"Drag sections from the left panel to begin creating your lead magnet campaign. Start with questions, add content, and finish with results."}),o&&(0,t.jsx)("div",{className:"mt-6 flex justify-center space-x-2",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"".concat(.1*s,"s")}},s))})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(T.gB,{items:u,strategy:T._G,children:(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,t.jsx)(e3,{section:e,onUpdate:a,onDelete:i,onDuplicate:l,onConfigure:n,onTypeChange:r,isCollapsible:d},e.id))})}),o&&(0,t.jsx)("div",{className:"mt-4 border-2 border-blue-300 border-dashed rounded-lg p-6 bg-blue-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(eA.A,{className:"h-6 w-6 text-blue-600 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Drop here to add section"})]})}),s.length>0&&!o&&(0,t.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(e6.A,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"Advanced Canvas Controls:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Click section names"})," to edit inline with auto-save"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Switch section types"})," using the dropdown in each section"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Toggle Preview mode"})," to see how sections look to users"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Collapse sections"})," to focus on specific areas"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Set questions as required"})," using the bottom bar toggle"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Customize button labels"})," for each section"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Drag sections"})," by the grip handle to reorder"]})]})]})]})})]})})}var e8=a(14738),e9=a(52280),se=a(46767),ss=a(84109),sa=a(42355),st=a(82178),si=a(85690),sl=a(74311),sn=a(91981);let sr={desktop:{name:"Desktop",icon:e8.A,width:1200,height:800,maxWidth:"100%",description:"Full desktop experience"},tablet:{name:"Tablet",icon:e9.A,width:768,height:1024,maxWidth:"768px",description:"iPad and tablet devices"},mobile:{name:"Mobile",icon:se.A,width:375,height:667,maxWidth:"375px",description:"iPhone and mobile devices"}};function sc(e){let{src:s,device:a,isLoading:l,onLoad:n,onError:r}=e,c=sr[a],d=(0,i.useRef)(null),o={width:"desktop"===a?"100%":"".concat(c.width,"px"),height:"desktop"===a?"600px":"".concat(c.height,"px"),maxWidth:c.maxWidth||"100%"},m=(0,i.useCallback)(()=>{n()},[n]),x=(0,i.useCallback)(()=>{r("Failed to load preview")},[r]);return"desktop"===a?(0,t.jsxs)("div",{className:"w-full relative",children:[(0,t.jsx)("iframe",{ref:d,src:s,className:"w-full border rounded-lg shadow-sm",style:o,onLoad:m,onError:x,title:"Campaign Preview",sandbox:"allow-scripts allow-same-origin allow-forms"}),l&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(ss.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Loading preview..."})]})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:(0,N.cn)("relative bg-gray-900 rounded-[2rem] p-2 shadow-2xl","mobile"===a&&"rounded-[2.5rem]","tablet"===a&&"rounded-[1.5rem]"),style:o,children:[(0,t.jsxs)("div",{className:(0,N.cn)("bg-white rounded-[1.5rem] w-full h-full overflow-hidden relative","mobile"===a&&"rounded-[2rem]","tablet"===a&&"rounded-[1rem]"),children:["mobile"===a&&(0,t.jsxs)("div",{className:"h-6 bg-gray-50 flex items-center justify-between px-4 text-xs",children:[(0,t.jsx)("span",{className:"font-medium",children:"9:41"}),(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-4 h-2 bg-gray-300 rounded-sm"}),(0,t.jsx)("div",{className:"w-6 h-2 bg-green-500 rounded-sm"})]})]}),(0,t.jsxs)("div",{className:(0,N.cn)("w-full h-full overflow-hidden relative","mobile"===a&&"h-[calc(100%-1.5rem)]"),children:[(0,t.jsx)("iframe",{ref:d,src:s,className:"w-full h-full border-0",onLoad:m,onError:x,title:"Campaign Preview",sandbox:"allow-scripts allow-same-origin allow-forms"}),l&&(0,t.jsx)("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,t.jsx)(ss.A,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{className:"text-xs text-gray-600",children:"Loading..."})]})})]})]}),"mobile"===a&&(0,t.jsx)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gray-600 rounded-full"})]})})}function sd(e){let{currentSection:s,totalSections:a,isPlaying:i,onPrevious:l,onNext:n,onPlay:r,onPause:c,onStop:d,onSectionSelect:o}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:l,disabled:s<=0,children:(0,t.jsx)(sa.A,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:i?c:r,children:i?(0,t.jsx)(st.A,{className:"h-4 w-4"}):(0,t.jsx)(si.A,{className:"h-4 w-4"})}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:d,children:(0,t.jsx)(ek.A,{className:"h-4 w-4"})})]}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:n,disabled:s>=a-1,children:(0,t.jsx)(P.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(C.E,{variant:"outline",className:"text-xs",children:["Section ",s+1," of ",a]}),(0,t.jsx)("select",{value:s,onChange:e=>o(parseInt(e.target.value)),className:"text-xs border rounded px-2 py-1",children:Array.from({length:a},(e,s)=>(0,t.jsxs)("option",{value:s,children:["Section ",s+1]},s))})]})]})}function so(e){let{campaign:s,sections:a,className:l,enableDeviceToggle:n=!0,enableFullscreen:r=!0,onSectionChange:c}=e,[d,o]=(0,i.useState)({device:"desktop",mode:"sequence",showNavigation:!0,autoAdvance:!1,autoAdvanceDelay:3e3,bypassDisplayRules:!0}),[m,u]=(0,i.useState)(0),[h,p]=(0,i.useState)(!1),[g,j]=(0,i.useState)(!0),[v,b]=(0,i.useState)(null),[y,w]=(0,i.useState)(!1),k=(0,i.useRef)(null),S="/campaigns/".concat(s.id,"/preview?section=").concat(m,"&mode=").concat(d.mode,"&device=").concat(d.device,"&bypass=").concat(d.bypassDisplayRules),A=(0,i.useCallback)(()=>{let e=Math.max(0,m-1);u(e),null==c||c(e)},[m,c]),E=(0,i.useCallback)(()=>{let e=Math.min(a.length-1,m+1);u(e),null==c||c(e)},[m,a.length,c]),L=(0,i.useCallback)(e=>{u(e),null==c||c(e)},[c]),P=(0,i.useCallback)(()=>{w(!0),d.autoAdvance&&(k.current=setInterval(()=>{u(e=>{let s=e+1;return s>=a.length?(w(!1),0):s})},d.autoAdvanceDelay))},[d.autoAdvance,d.autoAdvanceDelay,a.length]),F=(0,i.useCallback)(()=>{w(!1),k.current&&(clearInterval(k.current),k.current=null)},[]),T=(0,i.useCallback)(()=>{w(!1),u(0),k.current&&(clearInterval(k.current),k.current=null)},[]),q=e=>{o(s=>({...s,device:e})),j(!0)},R=()=>{j(!0),b(null)},U=()=>{p(!h)},I=()=>{window.open(S,"_blank","noopener,noreferrer")};(0,i.useEffect)(()=>()=>{k.current&&clearInterval(k.current)},[]);let J=()=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Campaign Preview"}),(0,t.jsx)(C.E,{variant:"outline",className:"text-xs",children:sr[d.device].name}),d.bypassDisplayRules&&(0,t.jsx)(C.E,{variant:"secondary",className:"text-xs",children:"All Sections"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,t.jsx)("div",{className:"flex border rounded-lg overflow-hidden",children:Object.entries(sr).map(e=>{let[s,a]=e,i=a.icon;return(0,t.jsx)(x.$,{variant:d.device===s?"default":"ghost",size:"sm",onClick:()=>q(s),className:"h-8 px-3 rounded-none border-0",title:a.description,children:(0,t.jsx)(i,{className:"h-3 w-3"})},s)})}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:R,title:"Refresh preview",children:(0,t.jsx)(ss.A,{className:"h-3 w-3"})}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:I,title:"Open in new window",children:(0,t.jsx)(er.A,{className:"h-3 w-3"})}),r&&(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:U,title:h?"Exit fullscreen":"Enter fullscreen",children:h?(0,t.jsx)(sl.A,{className:"h-3 w-3"}):(0,t.jsx)(sn.A,{className:"h-3 w-3"})})]})]});return h?(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-white",children:(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[J(),d.showNavigation&&(0,t.jsx)(sd,{currentSection:m,totalSections:a.length,isPlaying:y,onPrevious:A,onNext:E,onPlay:P,onPause:F,onStop:T,onSectionSelect:L}),(0,t.jsx)("div",{className:"flex-1 overflow-auto bg-gray-100",children:(0,t.jsx)(sc,{src:S,device:d.device,isLoading:g,onLoad:()=>j(!1),onError:b})}),v&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border-t border-red-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-red-800",children:v}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:R,children:"Retry"})]})})]})}):(0,t.jsxs)(z.Zp,{className:(0,N.cn)("overflow-hidden",l),children:[J(),d.showNavigation&&(0,t.jsx)(sd,{currentSection:m,totalSections:a.length,isPlaying:y,onPrevious:A,onNext:E,onPlay:P,onPause:F,onStop:T,onSectionSelect:L}),(0,t.jsx)(z.Wu,{className:"p-0 bg-gray-100",children:(0,t.jsx)(sc,{src:S,device:d.device,isLoading:g,onLoad:()=>j(!1),onError:b})}),v&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border-t border-red-200",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-red-800",children:v}),(0,t.jsx)(x.$,{variant:"outline",size:"sm",onClick:R,children:"Retry"})]})})]})}function sm(){let{user:e,loading:s}=(0,n.A)(),a=(0,l.useParams)(),c=(0,l.useRouter)(),[o,m]=(0,i.useState)(null),[x,u]=(0,i.useState)([]),[h,p]=(0,i.useState)(!0),[g,j]=(0,i.useState)(!1),[b,f]=(0,i.useState)(null),[y,C]=(0,i.useState)(null),[S,E]=(0,i.useState)("builder"),[L,P]=(0,i.useState)(!1),q=(0,k.FR)((0,k.MS)(k.AN,{activationConstraint:{distance:8}}));(0,i.useEffect)(()=>{R()},[]);let R=async()=>{if(!a.id||"string"!=typeof a.id){f("Invalid campaign ID"),p(!1);return}try{p(!0),f(null);let e=await (0,r.jz)(a.id);if(!e.success||!e.data)throw Error(e.error||"Campaign not found");m(e.data),u([])}catch(e){console.error("Error loading campaign:",e),f(e instanceof Error?e.message:"Failed to load campaign")}finally{p(!1)}},U=async e=>{if(o)try{j(!0),f(null);let s=await (0,r.SX)(o.id,{name:e});if(!s.success)throw Error(s.error||"Failed to update campaign name");m(s=>s?{...s,name:e}:null),ea({title:"Campaign name updated",description:"Campaign name has been saved",duration:2e3})}catch(s){console.error("Error updating campaign name:",s);let e=s instanceof Error?s.message:"Failed to update campaign name";throw f(e),ea({title:"Update failed",description:e,variant:"destructive"}),s}finally{j(!1)}},J=async()=>{if(o)try{j(!0),f(null),ea({title:"Campaign saved",description:"All changes have been saved successfully",duration:3e3})}catch(s){console.error("Error saving campaign:",s);let e=s instanceof Error?s.message:"Failed to save campaign";f(e),ea({title:"Save failed",description:e,variant:"destructive"})}finally{j(!1)}},D=e=>{let s={id:"section-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:e.id,title:e.name,settings:e.defaultSettings||{},order:x.length+1,isVisible:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};u(e=>[...e,s]),ea({title:"Section added",description:"".concat(e.name," section has been added to your campaign")})},O=async(e,s)=>{try{u(a=>a.map(a=>a.id===e?{...a,...s,updatedAt:new Date().toISOString()}:a)),s.title&&ea({title:"Section updated",description:"Section title has been updated",duration:2e3})}catch(e){throw console.error("Error updating section:",e),ea({title:"Update failed",description:e instanceof Error?e.message:"Failed to update section",variant:"destructive"}),e}},$=async(e,s)=>{try{var a;let t=d(s),i={type:s,settings:{...(null==(a=x.find(s=>s.id===e))?void 0:a.settings)||{},...null==t?void 0:t.defaultSettings}};await O(e,i),ea({title:"Section type changed",description:"Section changed to ".concat((null==t?void 0:t.name)||s),duration:3e3})}catch(e){console.error("Error changing section type:",e),ea({title:"Failed to change type",description:e instanceof Error?e.message:"Failed to change section type",variant:"destructive"})}};return s||h?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(v.A,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading campaign builder..."})]})}):e?b?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,t.jsx)(z.Zp,{className:"border-red-200 bg-red-50",children:(0,t.jsx)(z.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-red-800",children:[(0,t.jsx)(I.A,{className:"h-5 w-5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Error loading campaign"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:b}),(0,t.jsx)("button",{onClick:R,className:"mt-2 text-sm underline hover:no-underline",children:"Try Again"})]})]})})})})})}):o?(0,t.jsx)(k.Mp,{sensors:q,collisionDetection:k.fp,onDragStart:e=>{var s,a;let{active:t}=e;(null==(s=t.data.current)?void 0:s.type)==="section-type"?C(t.data.current.sectionType):(null==(a=t.data.current)?void 0:a.type)==="campaign-section"&&C(t.data.current.section)},onDragEnd:e=>{var s,a,t,i;let{active:l,over:n}=e;if(C(null),n){if((null==(s=l.data.current)?void 0:s.type)==="section-type"&&(null==(a=n.data.current)?void 0:a.type)==="canvas")return void D(l.data.current.sectionType);if((null==(t=l.data.current)?void 0:t.type)==="campaign-section"&&(null==(i=n.data.current)?void 0:i.type)==="campaign-section"){let e=l.id,s=n.id;e!==s&&(u(a=>{let t=a.findIndex(s=>s.id===e),i=a.findIndex(e=>e.id===s);return(0,T.be)(a,t,i).map((e,s)=>({...e,order:s+1,updatedAt:new Date().toISOString()}))}),ea({title:"Sections reordered",description:"Section order has been updated",duration:2e3}))}}},children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(w,{campaignName:o.name,campaignStatus:o.status,isPublished:"published"===o.status,isSaving:g,canPublish:!0,onCampaignNameChange:U,onSave:J,onPreview:()=>{if(!o)return;let e="/campaigns/".concat(o.id,"/preview");window.open(e,"_blank","noopener,noreferrer")},onPublish:()=>{P(!0)}}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[b&&(0,t.jsx)(z.Zp,{className:"mb-6 border-red-200 bg-red-50",children:(0,t.jsx)(z.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 text-red-800",children:[(0,t.jsx)(I.A,{className:"h-5 w-5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Error"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:b}),(0,t.jsx)("button",{onClick:()=>f(null),className:"mt-2 text-sm underline hover:no-underline",children:"Dismiss"})]})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-[calc(100vh-200px)]",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)(z.Zp,{className:"h-full",children:(0,t.jsx)(F,{})})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsxs)(z.Zp,{className:"h-full",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex space-x-8 px-6 pt-4","aria-label":"Tabs",children:[(0,t.jsx)("button",{onClick:()=>E("builder"),className:(0,N.cn)("whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors","builder"===S?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Builder"}),(0,t.jsx)("button",{onClick:()=>E("preview"),className:(0,N.cn)("whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm transition-colors","preview"===S?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Preview"})]})}),"builder"===S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(z.ZB,{className:"text-lg",children:"Campaign Canvas"}),(0,t.jsx)(z.BT,{children:"Drag sections from the sidebar to build your campaign. Use the enhanced controls for inline editing, preview mode, and section management."})]}),x.length>0&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[x.length," section",1!==x.length?"s":""," • ",x.filter(e=>e.isVisible).length," visible"]})]})}),(0,t.jsx)(z.Wu,{className:"h-[calc(100%-140px)]",children:(0,t.jsx)(e7,{sections:x,onSectionUpdate:O,onSectionDelete:e=>{u(s=>{let a=s.filter(s=>s.id!==e).map((e,s)=>({...e,order:s+1,updatedAt:new Date().toISOString()}));return ea({title:"Section deleted",description:"Section has been removed from your campaign"}),a})},onSectionDuplicate:e=>{u(s=>{let a=s.find(s=>s.id===e);if(!a)return s;let t={...a,id:"section-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),title:"".concat(a.title," (Copy)"),order:s.length+1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return ea({title:"Section duplicated",description:"A copy of the section has been created"}),[...s,t]})},onSectionConfigure:e=>{console.log("Configure section:",e),ea({title:"Configuration",description:"Section configuration panel coming soon",duration:3e3})},onSectionTypeChange:$,className:"h-full",showCollapsedSections:!0})})]}):(0,t.jsx)("div",{className:"h-[calc(100%-60px)]",children:(0,t.jsx)(so,{campaign:o,sections:x,className:"h-full",enableDeviceToggle:!0,enableFullscreen:!0})})]})})]})]})}),(0,t.jsx)(k.Hd,{children:y&&(0,t.jsx)(t.Fragment,{children:"name"in y&&"description"in y?(0,t.jsx)(A,{sectionType:y,className:"shadow-lg rotate-3 opacity-90"}):(0,t.jsx)(H,{section:y,onUpdate:async()=>{},onDelete:()=>{},onDuplicate:()=>{},onConfigure:()=>{},className:"shadow-lg rotate-2 opacity-90"})})}),L&&(0,t.jsx)(ex,{campaign:o,isOpen:L,onClose:()=>P(!1),onPublishSuccess:e=>{m(e),P(!1)}})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,t.jsx)(z.Zp,{children:(0,t.jsx)(z.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Campaign not found"}),(0,t.jsx)("button",{onClick:()=>c.push("/dashboard/campaigns"),className:"mt-2 text-blue-600 underline hover:no-underline",children:"Back to Campaigns"})]})})})})})}):null}},67133:(e,s,a)=>{"use strict";a.d(s,{Hr:()=>x,Ht:()=>p,SQ:()=>u,_2:()=>h,mB:()=>g,rI:()=>o,ty:()=>m});var t=a(95155),i=a(12115),l=a(9449),n=a(13052),r=a(5196),c=a(9428),d=a(53999);let o=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb;let x=l.z6;i.forwardRef((e,s)=>{let{className:a,inset:i,children:r,...c}=e;return(0,t.jsxs)(l.ZP,{ref:s,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",a),...c,children:[r,(0,t.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.G5,{ref:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...i})}).displayName=l.G5.displayName;let u=i.forwardRef((e,s)=>{let{className:a,sideOffset:i=4,...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:s,sideOffset:i,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...n})})});u.displayName=l.UC.displayName;let h=i.forwardRef((e,s)=>{let{className:a,inset:i,...n}=e;return(0,t.jsx)(l.q7,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",i&&"pl-8",a),...n})});h.displayName=l.q7.displayName,i.forwardRef((e,s)=>{let{className:a,children:i,checked:n,...c}=e;return(0,t.jsxs)(l.H_,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...c,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})}),i]})}).displayName=l.H_.displayName;let p=i.forwardRef((e,s)=>{let{className:a,children:i,...n}=e;return(0,t.jsxs)(l.hN,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(c.A,{className:"h-2 w-2 fill-current"})})}),i]})});p.displayName=l.hN.displayName,i.forwardRef((e,s)=>{let{className:a,inset:i,...n}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",a),...n})}).displayName=l.JU.displayName;let g=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...i})});g.displayName=l.wv.displayName},71056:(e,s,a)=>{"use strict";a.d(s,{G6:()=>d,Hh:()=>l,Jv:()=>n,UU:()=>i,Up:()=>o,f3:()=>c,xw:()=>r});var t=a(81935);function i(){return(0,t.createBrowserClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}async function l(e,s){let a=i(),{error:t}=await a.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return t?{success:!1,error:t.message}:{success:!0,message:"Check your email for a confirmation link to complete your signup."}}async function n(e,s){let a=i(),{error:t}=await a.auth.signInWithPassword({email:e,password:s});return t?{success:!1,error:t.message}:{success:!0,message:"Successfully signed in!"}}async function r(e){let s=i(),{error:a}=await s.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/callback?next=/auth/update-password")});return a?{success:!1,error:a.message}:{success:!0,message:"Check your email for a password reset link."}}async function c(e){let s=i(),{error:a}=await s.auth.updateUser({password:e});return a?{success:!1,error:a.message}:{success:!0,message:"Password updated successfully!"}}async function d(){let e=i(),{error:s}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return s?{success:!1,error:s.message}:{success:!0,message:"Redirecting to Google..."}}async function o(){let e=i(),{error:s}=await e.auth.signInWithOAuth({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return s?{success:!1,error:s.message}:{success:!0,message:"Redirecting to GitHub..."}}},76052:(e,s,a)=>{"use strict";a.d(s,{A:()=>c,AuthProvider:()=>r});var t=a(95155),i=a(12115),l=a(71056);let n=(0,i.createContext)(void 0);function r(e){let{children:s}=e,[a,r]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0),o=(0,l.UU)(),m=async()=>{try{let{data:{user:e},error:s}=await o.auth.getUser();s?(console.error("Error fetching user:",s),r(null)):r(e)}catch(e){console.error("Error in refreshUser:",e),r(null)}},x=async()=>{try{let{error:e}=await o.auth.signOut();e&&console.error("Error signing out:",e),r(null)}catch(e){console.error("Error in signOut:",e)}};return(0,i.useEffect)(()=>{(async()=>{await m(),d(!1)})();let{data:{subscription:e}}=o.auth.onAuthStateChange(async(e,s)=>{var a;console.log("Auth state changed:",e,null==s||null==(a=s.user)?void 0:a.email),(null==s?void 0:s.user)?r(s.user):r(null),d(!1)});return()=>{e.unsubscribe()}},[o.auth]),(0,t.jsx)(n.Provider,{value:{user:a,loading:c,signOut:x,refreshUser:m},children:s})}function c(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},77011:(e,s,a)=>{Promise.resolve().then(a.bind(a,39960))},95139:(e,s,a)=>{"use strict";a.d(s,{Checkbox:()=>c});var t=a(95155),i=a(12115),l=a(76981),n=a(5196),r=a(53999);let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,r.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...i,children:(0,t.jsx)(l.C1,{className:(0,r.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})})});c.displayName=l.bL.displayName},95784:(e,s,a)=>{"use strict";a.d(s,{bq:()=>m,eb:()=>u,gC:()=>x,l6:()=>d,yv:()=>o});var t=a(95155);a(12115);var i=a(22918),l=a(66474),n=a(5196),r=a(47863),c=a(53999);function d(e){let{...s}=e;return(0,t.jsx)(i.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,t.jsx)(i.WT,{"data-slot":"select-value",...s})}function m(e){let{className:s,size:a="default",children:n,...r}=e;return(0,t.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":a,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r,children:[n,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:s,children:a,position:l="popper",...n}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,t.jsx)(h,{}),(0,t.jsx)(i.LM,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(p,{})]})})}function u(e){let{className:s,children:a,...l}=e;return(0,t.jsxs)(i.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(n.A,{className:"size-4"})})}),(0,t.jsx)(i.p4,{children:a})]})}function h(e){let{className:s,...a}=e;return(0,t.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(r.A,{className:"size-4"})})}function p(e){let{className:s,...a}=e;return(0,t.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(l.A,{className:"size-4"})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[568,935,352,590,963,710,425,189,178,132,441,684,358],()=>s(77011)),_N_E=e.O()}]);