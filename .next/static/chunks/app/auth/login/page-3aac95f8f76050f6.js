(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{9598:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(95155),a=r(12115),n=r(35695),i=r(6874),o=r.n(i),l=r(97168),c=r(89852),u=r(82714),d=r(88482),m=r(71056),h=r(76052),g=r(70306),p=r(12318),x=r(28883),f=r(78749),b=r(92657);function v(){let[e,t]=(0,a.useState)("login"),[r,i]=(0,a.useState)(""),[v,y]=(0,a.useState)(""),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[A,C]=(0,a.useState)(""),[R,S]=(0,a.useState)(""),P=(0,n.useRouter)(),E=(0,n.useSearchParams)(),{user:M,loading:O}=(0,h.A)(),I=E.get("redirectedFrom"),z=I||"/dashboard";if((0,a.useEffect)(()=>{!O&&M&&P.push(z)},[M,O,P,z]),O)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(M)return null;let U=async t=>{t.preventDefault(),S(""),C(""),k(!0);try{let t;"login"===e?(t=await (0,m.Jv)(r,v)).success&&(C("Login successful! Redirecting..."),setTimeout(()=>{P.push(z)},1e3)):"signup"===e?t=await (0,m.Hh)(r,v):"reset"===e&&(t=await (0,m.xw)(r)),(null==t?void 0:t.success)?"login"!==e&&(C(t.message||"Success!"),i(""),y("")):S((null==t?void 0:t.error)||"An error occurred")}catch(e){S("An unexpected error occurred")}finally{k(!1)}},F=async e=>{S(""),C(""),k(!0);try{let t="google"===e?await (0,m.G6)():await (0,m.Up)();t.success?C(t.message||"Redirecting..."):S(t.error||"Failed to initiate OAuth login")}catch(e){S("An unexpected error occurred")}finally{k(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(d.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(d.aR,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 mb-4",children:"login"===e?(0,s.jsx)(g.A,{className:"h-6 w-6 text-blue-600"}):"signup"===e?(0,s.jsx)(p.A,{className:"h-6 w-6 text-blue-600"}):(0,s.jsx)(x.A,{className:"h-6 w-6 text-blue-600"})}),(0,s.jsx)(d.ZB,{className:"text-2xl font-bold",children:"login"===e?"Welcome back":"signup"===e?"Create account":"Reset password"}),(0,s.jsx)(d.BT,{children:"login"===e?I?"Please sign in to access ".concat(I):"Sign in to your account to continue":"signup"===e?"Enter your details to create a new account":"Enter your email to receive a password reset link"})]}),(0,s.jsxs)(d.Wu,{children:[I&&"login"===e&&(0,s.jsxs)("div",{className:"mb-4 text-sm text-blue-600 bg-blue-50 border border-blue-200 rounded-md p-3",children:[(0,s.jsx)("strong",{children:"Access Required:"})," Please sign in to continue to ",I]}),(0,s.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"email",children:"Email"}),(0,s.jsx)(c.p,{id:"email",type:"email",value:r,onChange:e=>i(e.target.value),placeholder:"Enter your email",required:!0})]}),"reset"!==e&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.J,{htmlFor:"password",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.p,{id:"password",type:w?"text":"password",value:v,onChange:e=>y(e.target.value),placeholder:"Enter your password",required:!0,minLength:"signup"===e?6:void 0}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!w),children:w?(0,s.jsx)(f.A,{className:"h-4 w-4"}):(0,s.jsx)(b.A,{className:"h-4 w-4"})})]})]}),R&&(0,s.jsx)("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md p-3",children:R}),A&&(0,s.jsx)("div",{className:"text-sm text-green-600 bg-green-50 border border-green-200 rounded-md p-3",children:A}),(0,s.jsx)(l.$,{type:"submit",className:"w-full",disabled:N,children:N?"Processing...":"login"===e?"Sign in":"signup"===e?"Create account":"Send reset link"}),"login"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsx)("span",{className:"bg-white px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>F("google"),disabled:N,children:"Google"}),(0,s.jsx)(l.$,{type:"button",variant:"outline",onClick:()=>F("github"),disabled:N,children:"GitHub"})]})]})]}),(0,s.jsx)("div",{className:"mt-6 text-center text-sm",children:"login"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)("button",{type:"button",onClick:()=>t("signup"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]}),(0,s.jsx)("p",{className:"mt-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>t("reset"),className:"text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}):"signup"===e?(0,s.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,s.jsx)("button",{type:"button",onClick:()=>t("login"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]}):(0,s.jsxs)("p",{className:"text-gray-600",children:["Remember your password?"," ",(0,s.jsx)("button",{type:"button",onClick:()=>t("login"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(o(),{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"â† Back to homepage"})})]})]})})}},12318:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},28883:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},40968:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var s=r(12115),a=r(63655),n=r(95155),i=s.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},47147:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(12115),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},n=r(66977);let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...m}=e;return(0,s.createElement)("svg",{ref:t,...a,width:i,height:i,stroke:r,strokeWidth:l?24*Number(o)/Number(i):o,className:(0,n.zP)("lucide",c),...!u&&!(0,n.m$)(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])})},53999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},63655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>l,sG:()=>o});var s=r(12115),a=r(47650),n=r(99708),i=r(95155),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,n.TL)(`Primitive.${t}`),a=s.forwardRef((e,s)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(a?r:t,{...n,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function l(e,t){e&&a.flushSync(()=>e.dispatchEvent(t))}},66977:(e,t,r)=>{"use strict";r.d(t,{MX:()=>n,fX:()=>s,m$:()=>o,zP:()=>i});let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0}},70306:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]])},71056:(e,t,r)=>{"use strict";r.d(t,{G6:()=>c,Hh:()=>n,Jv:()=>i,UU:()=>a,Up:()=>u,f3:()=>l,xw:()=>o});var s=r(81935);function a(){return(0,s.createBrowserClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}async function n(e,t){let r=a(),{error:s}=await r.auth.signUp({email:e,password:t,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return s?{success:!1,error:s.message}:{success:!0,message:"Check your email for a confirmation link to complete your signup."}}async function i(e,t){let r=a(),{error:s}=await r.auth.signInWithPassword({email:e,password:t});return s?{success:!1,error:s.message}:{success:!0,message:"Successfully signed in!"}}async function o(e){let t=a(),{error:r}=await t.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/callback?next=/auth/update-password")});return r?{success:!1,error:r.message}:{success:!0,message:"Check your email for a password reset link."}}async function l(e){let t=a(),{error:r}=await t.auth.updateUser({password:e});return r?{success:!1,error:r.message}:{success:!0,message:"Password updated successfully!"}}async function c(){let e=a(),{error:t}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return t?{success:!1,error:t.message}:{success:!0,message:"Redirecting to Google..."}}async function u(){let e=a(),{error:t}=await e.auth.signInWithOAuth({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return t?{success:!1,error:t.message}:{success:!0,message:"Redirecting to GitHub..."}}},76052:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>o});var s=r(95155),a=r(12115),n=r(71056);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),u=(0,n.UU)(),d=async()=>{try{let{data:{user:e},error:t}=await u.auth.getUser();t?(console.error("Error fetching user:",t),o(null)):o(e)}catch(e){console.error("Error in refreshUser:",e),o(null)}},m=async()=>{try{let{error:e}=await u.auth.signOut();e&&console.error("Error signing out:",e),o(null)}catch(e){console.error("Error in signOut:",e)}};return(0,a.useEffect)(()=>{(async()=>{await d(),c(!1)})();let{data:{subscription:e}}=u.auth.onAuthStateChange(async(e,t)=>{var r;console.log("Auth state changed:",e,null==t||null==(r=t.user)?void 0:r.email),(null==t?void 0:t.user)?o(t.user):o(null),c(!1)});return()=>{e.unsubscribe()}},[u.auth]),(0,s.jsx)(i.Provider,{value:{user:r,loading:l,signOut:m,refreshUser:d},children:t})}function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},78749:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},80563:(e,t,r)=>{Promise.resolve().then(r.bind(r,9598))},82714:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var s=r(95155);r(12115);var a=r(40968),n=r(53999);function i(e){let{className:t,...r}=e;return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},88482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>u,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>d});var s=r(95155),a=r(12115),n=r(53999);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});d.displayName="CardFooter"},89852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(95155),a=r(12115),n=r(53999);let i=a.forwardRef((e,t)=>{let{className:r,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"},90602:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(12115),a=r(66977),n=r(47147);let i=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:o,...l}=r;return(0,s.createElement)(n.A,{ref:i,iconNode:t,className:(0,a.zP)("lucide-".concat((0,a.fX)((0,a.MX)(e))),"lucide-".concat(e),o),...l})});return r.displayName=(0,a.MX)(e),r}},92657:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},97168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(95155),a=r(12115),n=r(99708),i=r(74466),o=r(53999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...u}=e,d=c?n.DX:"button";return(0,s.jsx)(d,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...u})});c.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[935,352,874,441,684,358],()=>t(80563)),_N_E=e.O()}]);