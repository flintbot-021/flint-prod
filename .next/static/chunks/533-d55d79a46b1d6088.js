"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{62533:(e,s,a)=>{a.d(s,{F:()=>f});var t=a(95155),i=a(12115),r=a(34835),n=a(28883),c=a(71007),l=a(69074),d=a(75525),o=a(381),u=a(97168),m=a(88482),x=a(88145),h=a(76052);function f(e){var s;let{user:a,showActions:f=!0,variant:p="card"}=e,{user:j,signOut:g}=(0,h.A)(),N=a||j,[v,w]=(0,i.useState)(!1);if(!N)return null;let y=async()=>{w(!0);try{await g()}finally{w(!1)}},b=e=>e.split("@")[0].split(".").map(e=>e.charAt(0).toUpperCase()).slice(0,2).join(""),_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return"compact"===p?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-blue-600",children:b(N.email||"")})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:N.email}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:N.email_confirmed_at?"Verified":"Unverified"})]}),f&&(0,t.jsx)(u.$,{variant:"ghost",size:"sm",onClick:y,disabled:v,children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})]}):(0,t.jsxs)(m.Zp,{className:"full"===p?"w-full":"w-full max-w-md",children:[(0,t.jsxs)(m.aR,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto mb-4",children:(0,t.jsx)("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl font-semibold text-blue-600",children:b(N.email||"")})})}),(0,t.jsx)(m.ZB,{className:"text-lg",children:N.email}),(0,t.jsx)(m.BT,{children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(x.E,{variant:N.email_confirmed_at?"default":"secondary",children:N.email_confirmed_at?"Verified":"Unverified"}),(null==(s=N.app_metadata)?void 0:s.provider)&&(0,t.jsx)(x.E,{variant:"outline",children:N.app_metadata.provider})]})})]}),"full"===p&&(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Email"}),(0,t.jsx)("p",{className:"text-gray-600",children:N.email})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"User ID"}),(0,t.jsx)("p",{className:"text-gray-600 font-mono text-xs",children:N.id})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(l.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Member Since"}),(0,t.jsx)("p",{className:"text-gray-600",children:N.created_at?_(N.created_at):"Unknown"})]})]}),N.last_sign_in_at&&(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Last Sign In"}),(0,t.jsx)("p",{className:"text-gray-600",children:_(N.last_sign_in_at)})]})]})]}),N.app_metadata&&Object.keys(N.app_metadata).length>0&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Authentication Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-xs",children:[N.app_metadata.provider&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Provider:"}),(0,t.jsx)("span",{className:"font-medium",children:N.app_metadata.provider})]}),N.role&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Role:"}),(0,t.jsx)("span",{className:"font-medium",children:N.role})]})]})]})]}),f&&(0,t.jsx)(m.Wu,{className:"full"===p?"pt-0":"",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(u.$,{variant:"outline",size:"sm",className:"flex-1",disabled:!0,children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Settings"]}),(0,t.jsxs)(u.$,{variant:"outline",size:"sm",onClick:y,disabled:v,className:"flex-1",children:[(0,t.jsx)(r.A,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})})]})}},71056:(e,s,a)=>{a.d(s,{G6:()=>d,Hh:()=>r,Jv:()=>n,UU:()=>i,Up:()=>o,f3:()=>l,xw:()=>c});var t=a(81935);function i(){return(0,t.createBrowserClient)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")}async function r(e,s){let a=i(),{error:t}=await a.auth.signUp({email:e,password:s,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});return t?{success:!1,error:t.message}:{success:!0,message:"Check your email for a confirmation link to complete your signup."}}async function n(e,s){let a=i(),{error:t}=await a.auth.signInWithPassword({email:e,password:s});return t?{success:!1,error:t.message}:{success:!0,message:"Successfully signed in!"}}async function c(e){let s=i(),{error:a}=await s.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin,"/auth/callback?next=/auth/update-password")});return a?{success:!1,error:a.message}:{success:!0,message:"Check your email for a password reset link."}}async function l(e){let s=i(),{error:a}=await s.auth.updateUser({password:e});return a?{success:!1,error:a.message}:{success:!0,message:"Password updated successfully!"}}async function d(){let e=i(),{error:s}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return s?{success:!1,error:s.message}:{success:!0,message:"Redirecting to Google..."}}async function o(){let e=i(),{error:s}=await e.auth.signInWithOAuth({provider:"github",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});return s?{success:!1,error:s.message}:{success:!0,message:"Redirecting to GitHub..."}}},76052:(e,s,a)=>{a.d(s,{A:()=>l,AuthProvider:()=>c});var t=a(95155),i=a(12115),r=a(71056);let n=(0,i.createContext)(void 0);function c(e){let{children:s}=e,[a,c]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),o=(0,r.UU)(),u=async()=>{try{let{data:{user:e},error:s}=await o.auth.getUser();s?(console.error("Error fetching user:",s),c(null)):c(e)}catch(e){console.error("Error in refreshUser:",e),c(null)}},m=async()=>{try{let{error:e}=await o.auth.signOut();e&&console.error("Error signing out:",e),c(null)}catch(e){console.error("Error in signOut:",e)}};return(0,i.useEffect)(()=>{(async()=>{await u(),d(!1)})();let{data:{subscription:e}}=o.auth.onAuthStateChange(async(e,s)=>{var a;console.log("Auth state changed:",e,null==s||null==(a=s.user)?void 0:a.email),(null==s?void 0:s.user)?c(s.user):c(null),d(!1)});return()=>{e.unsubscribe()}},[o.auth]),(0,t.jsx)(n.Provider,{value:{user:a,loading:l,signOut:m,refreshUser:u},children:s})}function l(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);